var CSSLint=(function(){var p={};(function(){function EventTarget(){this._listeners={}}EventTarget.prototype={constructor:EventTarget,addListener:function(a,b){if(!this._listeners[a]){this._listeners[a]=[]}this._listeners[a].push(b)},fire:function(a){if(typeof a=="string"){a={type:a}}if(typeof a.target!="undefined"){a.target=this}if(typeof a.type=="undefined"){throw new Error("Event object missing 'type' property.");}if(this._listeners[a.type]){var b=this._listeners[a.type].concat();for(var i=0,len=b.length;i<len;i++){b[i].call(this,a)}}},removeListener:function(a,b){if(this._listeners[a]){var c=this._listeners[a];for(var i=0,len=c.length;i<len;i++){if(c[i]===b){c.splice(i,1);break}}}}};function StringReader(a){this._input=a.replace(/\n\r?/g,"\n");this._line=1;this._col=1;this._cursor=0}StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return(this._cursor==this._input.length)},peek:function(a){var c=null;a=(typeof a=="undefined"?1:a);if(this._cursor<this._input.length){c=this._input.charAt(this._cursor+a-1)}return c},read:function(){var c=null;if(this._cursor<this._input.length){if(this._input.charAt(this._cursor)=="\n"){this._line++;this._col=1}else{this._col++}c=this._input.charAt(this._cursor++)}return c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){if(this._bookmark){this._cursor=this._bookmark.cursor;this._line=this._bookmark.line;this._col=this._bookmark.col;delete this._bookmark}},readTo:function(a){var b="",c;while(b.length<a.length||b.lastIndexOf(a)!=b.length-a.length){c=this.read();if(c){b+=c}else{throw new Error("Expected \""+a+"\" at line "+this._line+", col "+this._col+".");}}return b},readWhile:function(a){var b="",c=this.read();while(c!==null&&a(c)){b+=c;c=this.read()}return b},readMatch:function(a){var b=this._input.substring(this._cursor),value=null;if(typeof a=="string"){if(b.indexOf(a)===0){value=this.readCount(a.length)}}else if(a instanceof RegExp){if(a.test(b)){value=this.readCount(RegExp.lastMatch.length)}}return value},readCount:function(a){var b="";while(a--){b+=this.read()}return b}};function SyntaxError(a,b,c){this.col=c;this.line=b;this.message=a}SyntaxError.prototype=new Error();function SyntaxUnit(a,b,c,d){this.col=c;this.line=b;this.text=a;this.type=d}SyntaxUnit.fromToken=function(a){return new SyntaxUnit(a.value,a.startLine,a.startCol)};SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.toString()},toString:function(){return this.text}};function TokenStreamBase(a,b){this._reader=a?new StringReader(a.toString()):null;this._token=null;this._tokenData=b;this._lt=[];this._ltIndex=0;this._ltIndexCache=[]}TokenStreamBase.createTokenData=function(b){var d=[],typeMap={},tokenData=b.concat([]),i=0,len=tokenData.length+1;tokenData.UNKNOWN=-1;tokenData.unshift({name:"EOF"});for(;i<len;i++){d.push(tokenData[i].name);tokenData[tokenData[i].name]=i;if(tokenData[i].text){typeMap[tokenData[i].text]=i}}tokenData.name=function(a){return d[a]};tokenData.type=function(c){return typeMap[c]};return tokenData};TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(a,b){if(!(a instanceof Array)){a=[a]}var c=this.get(b),i=0,len=a.length;while(i<len){if(c==a[i++]){return true}}this.unget();return false},mustMatch:function(a,b){var c;if(!(a instanceof Array)){a=[a]}if(!this.match.apply(this,arguments)){c=this.LT(1);throw new SyntaxError("Expected "+this._tokenData[a[0]].name+" at line "+c.startLine+", col "+c.startCol+".",c.startLine,c.startCol);}},advance:function(a,b){while(this.LA(0)!=0&&!this.match(a,b)){this.get()}return this.LA(0)},get:function(a){var b=this._tokenData,reader=this._reader,value,i=0,len=b.length,found=false,token,info;if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){i++;this._token=this._lt[this._ltIndex++];info=b[this._token.type];while((info.channel!==undefined&&a!==info.channel)&&this._ltIndex<this._lt.length){this._token=this._lt[this._ltIndex++];info=b[this._token.type];i++}if((info.channel===undefined||a===info.channel)&&this._ltIndex<=this._lt.length){this._ltIndexCache.push(i);return this._token.type}}token=this._getToken();if(token.type>-1&&!b[token.type].hide){token.channel=b[token.type].channel;this._token=token;this._lt.push(token);this._ltIndexCache.push(this._lt.length-this._ltIndex+i);if(this._lt.length>5){this._lt.shift()}if(this._ltIndexCache.length>5){this._ltIndexCache.shift()}this._ltIndex=this._lt.length}info=b[token.type];if(info&&(info.hide||(info.channel!==undefined&&a!==info.channel))){return this.get(a)}else{return token.type}},LA:function(a){var b=a,tt;if(a>0){if(a>5){throw new Error("Too much lookahead.");}while(b){tt=this.get();b--}while(b<a){this.unget();b++}}else if(a<0){if(this._lt[this._ltIndex+a]){tt=this._lt[this._ltIndex+a].type}else{throw new Error("Too much lookbehind.");}}else{tt=this._token.type}return tt},LT:function(a){this.LA(a);return this._lt[this._ltIndex+a-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(a){if(a<0||a>this._tokenData.length){return"UNKNOWN_TOKEN"}else{return this._tokenData[a].name}},tokenType:function(a){return this._tokenData[a]||-1},unget:function(){if(this._ltIndexCache.length){this._ltIndex-=this._ltIndexCache.pop();this._token=this._lt[this._ltIndex-1]}else{throw new Error("Too much lookahead.");}}};p.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})();(function(){var g=p.util.EventTarget,TokenStreamBase=p.util.TokenStreamBase,StringReader=p.util.StringReader,SyntaxError=p.util.SyntaxError,SyntaxUnit=p.util.SyntaxUnit;var k={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Combinator(a,b,c){SyntaxUnit.call(this,a,b,c,Parser.COMBINATOR_TYPE);this.type="unknown";if(/^\s+$/.test(a)){this.type="descendant"}else if(a==">"){this.type="child"}else if(a=="+"){this.type="adjacent-sibling"}else if(a=="~"){this.type="sibling"}}Combinator.prototype=new SyntaxUnit();Combinator.prototype.constructor=Combinator;function MediaFeature(a,b){SyntaxUnit.call(this,"("+a+(b!==null?":"+b:"")+")",a.startLine,a.startCol,Parser.MEDIA_FEATURE_TYPE);this.name=a;this.value=b}MediaFeature.prototype=new SyntaxUnit();MediaFeature.prototype.constructor=MediaFeature;function MediaQuery(a,b,c,d,e){SyntaxUnit.call(this,(a?a+" ":"")+(b?b+" ":"")+c.join(" and "),d,e,Parser.MEDIA_QUERY_TYPE);this.modifier=a;this.mediaType=b;this.features=c}MediaQuery.prototype=new SyntaxUnit();MediaQuery.prototype.constructor=MediaQuery;function Parser(a){g.call(this);this.options=a||{};this._tokenStream=null}Parser.DEFAULT_TYPE=0;Parser.COMBINATOR_TYPE=1;Parser.MEDIA_FEATURE_TYPE=2;Parser.MEDIA_QUERY_TYPE=3;Parser.PROPERTY_NAME_TYPE=4;Parser.PROPERTY_VALUE_TYPE=5;Parser.PROPERTY_VALUE_PART_TYPE=6;Parser.SELECTOR_TYPE=7;Parser.SELECTOR_PART_TYPE=8;Parser.SELECTOR_SUB_PART_TYPE=9;Parser.prototype=function(){var d=new g(),prop,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var a=this._tokenStream,charset=null,token,tt;this.fire("startstylesheet");this._charset();this._skipCruft();while(a.peek()==o.IMPORT_SYM){this._import();this._skipCruft()}while(a.peek()==o.NAMESPACE_SYM){this._namespace();this._skipCruft()}tt=a.peek();while(tt>o.EOF){try{switch(tt){case o.MEDIA_SYM:this._media();this._skipCruft();break;case o.PAGE_SYM:this._page();this._skipCruft();break;case o.FONT_FACE_SYM:this._font_face();this._skipCruft();break;case o.KEYFRAMES_SYM:this._keyframes();this._skipCruft();break;case o.S:this._readWhitespace();break;default:if(!this._ruleset()){switch(tt){case o.CHARSET_SYM:token=a.LT(1);this._charset(false);throw new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case o.IMPORT_SYM:token=a.LT(1);this._import(false);throw new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case o.NAMESPACE_SYM:token=a.LT(1);this._namespace(false);throw new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:a.get();this._unexpectedToken(a.token())}}}}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}else{throw ex;}}tt=a.peek()}if(tt!=o.EOF){this._unexpectedToken(a.token())}this.fire("endstylesheet")},_charset:function(a){var b=this._tokenStream,charset,token,line,col;if(b.match(o.CHARSET_SYM)){line=b.token().startLine;col=b.token().startCol;this._readWhitespace();b.mustMatch(o.STRING);token=b.token();charset=token.value;this._readWhitespace();b.mustMatch(o.SEMICOLON);if(a!==false){this.fire({type:"charset",charset:charset,line:line,col:col})}}},_import:function(a){var b=this._tokenStream,tt,uri,importToken,mediaList=[];b.mustMatch(o.IMPORT_SYM);importToken=b.token();this._readWhitespace();b.mustMatch([o.STRING,o.URI]);uri=b.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();mediaList=this._media_query_list();b.mustMatch(o.SEMICOLON);this._readWhitespace();if(a!==false){this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})}},_namespace:function(a){var b=this._tokenStream,line,col,prefix,uri;b.mustMatch(o.NAMESPACE_SYM);line=b.token().startLine;col=b.token().startCol;this._readWhitespace();if(b.match(o.IDENT)){prefix=b.token().value;this._readWhitespace()}b.mustMatch([o.STRING,o.URI]);uri=b.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();b.mustMatch(o.SEMICOLON);this._readWhitespace();if(a!==false){this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})}},_media:function(){var a=this._tokenStream,line,col,mediaList;a.mustMatch(o.MEDIA_SYM);line=a.token().startLine;col=a.token().startCol;this._readWhitespace();mediaList=this._media_query_list();a.mustMatch(o.LBRACE);this._readWhitespace();this.fire({type:"startmedia",media:mediaList,line:line,col:col});while(true){if(a.peek()==o.PAGE_SYM){this._page()}else if(!this._ruleset()){break}}a.mustMatch(o.RBRACE);this._readWhitespace();this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var a=this._tokenStream,mediaList=[];this._readWhitespace();if(a.peek()==o.IDENT||a.peek()==o.LPAREN){mediaList.push(this._media_query())}while(a.match(o.COMMA)){this._readWhitespace();mediaList.push(this._media_query())}return mediaList},_media_query:function(){var a=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(a.match(o.IDENT)){ident=a.token().value.toLowerCase();if(ident!="only"&&ident!="not"){a.unget();ident=null}else{token=a.token()}}this._readWhitespace();if(a.peek()==o.IDENT){type=this._media_type();if(token===null){token=a.token()}}else if(a.peek()==o.LPAREN){if(token===null){token=a.LT(1)}expressions.push(this._media_expression())}if(type===null&&expressions.length===0){return null}else{this._readWhitespace();while(a.match(o.IDENT)){if(a.token().value.toLowerCase()!="and"){this._unexpectedToken(a.token())}this._readWhitespace();expressions.push(this._media_expression())}}return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var a=this._tokenStream,feature=null,token,expression=null;a.mustMatch(o.LPAREN);feature=this._media_feature();this._readWhitespace();if(a.match(o.COLON)){this._readWhitespace();token=a.LT(1);expression=this._expression()}a.mustMatch(o.RPAREN);this._readWhitespace();return new MediaFeature(feature,(expression?new SyntaxUnit(expression,token.startLine,token.startCol):null))},_media_feature:function(){var a=this._tokenStream;a.mustMatch(o.IDENT);return SyntaxUnit.fromToken(a.token())},_page:function(){var a=this._tokenStream,line,col,identifier=null,pseudoPage=null;a.mustMatch(o.PAGE_SYM);line=a.token().startLine;col=a.token().startCol;this._readWhitespace();if(a.match(o.IDENT)){identifier=a.token().value;if(identifier.toLowerCase()==="auto"){this._unexpectedToken(a.token())}}if(a.peek()==o.COLON){pseudoPage=this._pseudo_page()}this._readWhitespace();this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col});this._readDeclarations(true,true);this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var a=this._tokenStream,line,col,marginSym=this._margin_sym();if(marginSym){line=a.token().startLine;col=a.token().startCol;this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col});this._readDeclarations(true);this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col});return true}else{return false}},_margin_sym:function(){var a=this._tokenStream;if(a.match([o.TOPLEFTCORNER_SYM,o.TOPLEFT_SYM,o.TOPCENTER_SYM,o.TOPRIGHT_SYM,o.TOPRIGHTCORNER_SYM,o.BOTTOMLEFTCORNER_SYM,o.BOTTOMLEFT_SYM,o.BOTTOMCENTER_SYM,o.BOTTOMRIGHT_SYM,o.BOTTOMRIGHTCORNER_SYM,o.LEFTTOP_SYM,o.LEFTMIDDLE_SYM,o.LEFTBOTTOM_SYM,o.RIGHTTOP_SYM,o.RIGHTMIDDLE_SYM,o.RIGHTBOTTOM_SYM])){return SyntaxUnit.fromToken(a.token())}else{return null}},_pseudo_page:function(){var a=this._tokenStream;a.mustMatch(o.COLON);a.mustMatch(o.IDENT);return a.token().value},_font_face:function(){var a=this._tokenStream,line,col;a.mustMatch(o.FONT_FACE_SYM);line=a.token().startLine;col=a.token().startCol;this._readWhitespace();this.fire({type:"startfontface",line:line,col:col});this._readDeclarations(true);this.fire({type:"endfontface",line:line,col:col})},_operator:function(){var a=this._tokenStream,token=null;if(a.match([o.SLASH,o.COMMA])){token=a.token();this._readWhitespace()}return token?PropertyValuePart.fromToken(token):null},_combinator:function(){var a=this._tokenStream,value=null,token;if(a.match([o.PLUS,o.GREATER,o.TILDE])){token=a.token();value=new Combinator(token.value,token.startLine,token.startCol);this._readWhitespace()}return value},_unary_operator:function(){var a=this._tokenStream;if(a.match([o.MINUS,o.PLUS])){return a.token().value}else{return null}},_property:function(){var a=this._tokenStream,value=null,hack=null,tokenValue,token,line,col;if(a.peek()==o.STAR&&this.options.starHack){a.get();token=a.token();hack=token.value;line=token.startLine;col=token.startCol}if(a.match(o.IDENT)){token=a.token();tokenValue=token.value;if(tokenValue.charAt(0)=="_"&&this.options.underscoreHack){hack="_";tokenValue=tokenValue.substring(1)}value=new PropertyName(tokenValue,hack,(line||token.startLine),(col||token.startCol));this._readWhitespace()}return value},_ruleset:function(){var a=this._tokenStream,tt,selectors;try{selectors=this._selectors_group()}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col});tt=a.advance([o.RBRACE]);if(tt==o.RBRACE){}else{throw ex;}}else{throw ex;}return true}if(selectors){this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col});this._readDeclarations(true);this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})}return selectors},_selectors_group:function(){var a=this._tokenStream,selectors=[],selector;selector=this._selector();if(selector!==null){selectors.push(selector);while(a.match(o.COMMA)){this._readWhitespace();selector=this._selector();if(selector!==null){selectors.push(selector)}else{this._unexpectedToken(a.LT(1))}}}return selectors.length?selectors:null},_selector:function(){var a=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;nextSelector=this._simple_selector_sequence();if(nextSelector===null){return null}selector.push(nextSelector);do{combinator=this._combinator();if(combinator!==null){selector.push(combinator);nextSelector=this._simple_selector_sequence();if(nextSelector===null){this._unexpectedToken(this.LT(1))}else{selector.push(nextSelector)}}else{if(this._readWhitespace()){ws=new Combinator(a.token().value,a.token().startLine,a.token().startCol);combinator=this._combinator();nextSelector=this._simple_selector_sequence();if(nextSelector===null){if(combinator!==null){this._unexpectedToken(a.LT(1))}}else{if(combinator!==null){selector.push(combinator)}else{selector.push(ws)}selector.push(nextSelector)}}else{break}}}while(true);return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var a=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return a.match(o.HASH)?new SelectorSubPart(a.token().value,"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null,found=false,line,col;line=a.LT(1).startLine;col=a.LT(1).startCol;elementName=this._type_selector();if(!elementName){elementName=this._universal()}if(elementName!==null){selectorText+=elementName}while(true){if(a.peek()===o.S){break}while(i<len&&component===null){component=components[i++].call(this)}if(component===null){if(selectorText===""){return null}else{break}}else{i=0;modifiers.push(component);selectorText+=component.toString();component=null}}return selectorText!==""?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var a=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();if(!elementName){if(ns){a.unget();if(ns.length>1){a.unget()}}return null}else{if(ns){elementName.text=ns+elementName.text;elementName.col-=ns.length}return elementName}},_class:function(){var a=this._tokenStream,token;if(a.match(o.DOT)){a.mustMatch(o.IDENT);token=a.token();return new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)}else{return null}},_element_name:function(){var a=this._tokenStream,token;if(a.match(o.IDENT)){token=a.token();return new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)}else{return null}},_namespace_prefix:function(){var a=this._tokenStream,value="";if(a.LA(1)===o.PIPE||a.LA(2)===o.PIPE){if(a.match([o.IDENT,o.STAR])){value+=a.token().value}a.mustMatch(o.PIPE);value+="|"}return value.length?value:null},_universal:function(){var a=this._tokenStream,value="",ns;ns=this._namespace_prefix();if(ns){value+=ns}if(a.match(o.STAR)){value+="*"}return value.length?value:null},_attrib:function(){var a=this._tokenStream,value=null,ns,token;if(a.match(o.LBRACKET)){token=a.token();value=token.value;value+=this._readWhitespace();ns=this._namespace_prefix();if(ns){value+=ns}a.mustMatch(o.IDENT);value+=a.token().value;value+=this._readWhitespace();if(a.match([o.PREFIXMATCH,o.SUFFIXMATCH,o.SUBSTRINGMATCH,o.EQUALS,o.INCLUDES,o.DASHMATCH])){value+=a.token().value;value+=this._readWhitespace();a.mustMatch([o.IDENT,o.STRING]);value+=a.token().value;value+=this._readWhitespace()}a.mustMatch(o.RBRACKET);return new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)}else{return null}},_pseudo:function(){var a=this._tokenStream,pseudo=null,colons=":",line,col;if(a.match(o.COLON)){if(a.match(o.COLON)){colons+=":"}if(a.match(o.IDENT)){pseudo=a.token().value;line=a.token().startLine;col=a.token().startCol-colons.length}else if(a.peek()==o.FUNCTION){line=a.LT(1).startLine;col=a.LT(1).startCol-colons.length;pseudo=this._functional_pseudo()}if(pseudo){pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col)}}return pseudo},_functional_pseudo:function(){var a=this._tokenStream,value=null;if(a.match(o.FUNCTION)){value=a.token().value;value+=this._readWhitespace();value+=this._expression();a.mustMatch(o.RPAREN);value+=")"}return value},_expression:function(){var a=this._tokenStream,value="";while(a.match([o.PLUS,o.MINUS,o.DIMENSION,o.NUMBER,o.STRING,o.IDENT,o.LENGTH,o.FREQ,o.ANGLE,o.TIME,o.RESOLUTION])){value+=a.token().value;value+=this._readWhitespace()}return value.length?value:null},_negation:function(){var a=this._tokenStream,line,col,value="",arg,subpart=null;if(a.match(o.NOT)){value=a.token().value;line=a.token().startLine;col=a.token().startCol;value+=this._readWhitespace();arg=this._negation_arg();value+=arg;value+=this._readWhitespace();a.match(o.RPAREN);value+=a.token().value;subpart=new SelectorSubPart(value,"not",line,col);subpart.args.push(arg)}return subpart},_negation_arg:function(){var a=this._tokenStream,args=[this._type_selector,this._universal,function(){return a.match(o.HASH)?new SelectorSubPart(a.token().value,"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length,elementName,line,col,part;line=a.LT(1).startLine;col=a.LT(1).startCol;while(i<len&&arg===null){arg=args[i].call(this);i++}if(arg===null){this._unexpectedToken(a.LT(1))}if(arg.type=="elementName"){part=new SelectorPart(arg,[],arg.toString(),line,col)}else{part=new SelectorPart(null,[arg],arg.toString(),line,col)}return part},_declaration:function(){var a=this._tokenStream,property=null,expr=null,prio=null,error=null,invalid=null;property=this._property();if(property!==null){a.mustMatch(o.COLON);this._readWhitespace();expr=this._expr();if(!expr||expr.length===0){this._unexpectedToken(a.LT(1))}prio=this._prio();try{this._validateProperty(property,expr)}catch(ex){invalid=ex}this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid});return true}else{return false}},_prio:function(){var a=this._tokenStream,result=a.match(o.IMPORTANT_SYM);this._readWhitespace();return result},_expr:function(){var a=this._tokenStream,values=[],value=null,operator=null;value=this._term();if(value!==null){values.push(value);do{operator=this._operator();if(operator){values.push(operator)}value=this._term();if(value===null){break}else{values.push(value)}}while(true)}return values.length>0?new PropertyValue(values,values[0].startLine,values[0].startCol):null},_term:function(){var a=this._tokenStream,unary=null,value=null,line,col;unary=this._unary_operator();if(unary!==null){line=a.token().startLine;col=a.token().startCol}if(a.peek()==o.IE_FUNCTION&&this.options.ieFilters){value=this._ie_function();if(unary===null){line=a.token().startLine;col=a.token().startCol}}else if(a.match([o.NUMBER,o.PERCENTAGE,o.LENGTH,o.ANGLE,o.TIME,o.FREQ,o.STRING,o.IDENT,o.URI,o.UNICODE_RANGE])){value=a.token().value;if(unary===null){line=a.token().startLine;col=a.token().startCol}this._readWhitespace()}else{value=this._hexcolor();if(value===null){if(unary===null){line=a.LT(1).startLine;col=a.LT(1).startCol}if(value===null){if(a.LA(3)==o.EQUALS&&this.options.ieFilters){value=this._ie_function()}else{value=this._function()}}}else{if(unary===null){line=a.token().startLine;col=a.token().startCol}}}return value!==null?new PropertyValuePart(unary!==null?unary+value:value,line,col):null},_function:function(){var a=this._tokenStream,functionText=null,expr=null,lt;if(a.match(o.FUNCTION)){functionText=a.token().value;this._readWhitespace();expr=this._expr();functionText+=expr;if(this.options.ieFilters&&a.peek()==o.EQUALS){do{if(this._readWhitespace()){functionText+=a.token().value}if(a.LA(0)==o.COMMA){functionText+=a.token().value}a.match(o.IDENT);functionText+=a.token().value;a.match(o.EQUALS);functionText+=a.token().value;lt=a.peek();while(lt!=o.COMMA&&lt!=o.S&&lt!=o.RPAREN){a.get();functionText+=a.token().value;lt=a.peek()}}while(a.match([o.COMMA,o.S]))}a.match(o.RPAREN);functionText+=")";this._readWhitespace()}return functionText},_ie_function:function(){var a=this._tokenStream,functionText=null,expr=null,lt;if(a.match([o.IE_FUNCTION,o.FUNCTION])){functionText=a.token().value;do{if(this._readWhitespace()){functionText+=a.token().value}if(a.LA(0)==o.COMMA){functionText+=a.token().value}a.match(o.IDENT);functionText+=a.token().value;a.match(o.EQUALS);functionText+=a.token().value;lt=a.peek();while(lt!=o.COMMA&&lt!=o.S&&lt!=o.RPAREN){a.get();functionText+=a.token().value;lt=a.peek()}}while(a.match([o.COMMA,o.S]));a.match(o.RPAREN);functionText+=")";this._readWhitespace()}return functionText},_hexcolor:function(){var a=this._tokenStream,token,color=null;if(a.match(o.HASH)){token=a.token();color=token.value;if(!/#[a-f0-9]{3,6}/i.test(color)){throw new SyntaxError("Expected a hex color but found '"+color+"' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);}this._readWhitespace()}return color},_keyframes:function(){var a=this._tokenStream,token,tt,name;a.mustMatch(o.KEYFRAMES_SYM);this._readWhitespace();name=this._keyframe_name();this._readWhitespace();a.mustMatch(o.LBRACE);this.fire({type:"startkeyframes",name:name,line:name.line,col:name.col});this._readWhitespace();tt=a.peek();while(tt==o.IDENT||tt==o.PERCENTAGE){this._keyframe_rule();this._readWhitespace();tt=a.peek()}this.fire({type:"endkeyframes",name:name,line:name.line,col:name.col});this._readWhitespace();a.mustMatch(o.RBRACE)},_keyframe_name:function(){var a=this._tokenStream,token;a.mustMatch([o.IDENT,o.STRING]);return SyntaxUnit.fromToken(a.token())},_keyframe_rule:function(){var a=this._tokenStream,token,keyList=this._key_list();this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col});this._readDeclarations(true);this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var a=this._tokenStream,token,key,keyList=[];keyList.push(this._key());this._readWhitespace();while(a.match(o.COMMA)){this._readWhitespace();keyList.push(this._key());this._readWhitespace()}return keyList},_key:function(){var a=this._tokenStream,token;if(a.match(o.PERCENTAGE)){return SyntaxUnit.fromToken(a.token())}else if(a.match(o.IDENT)){token=a.token();if(/from|to/i.test(token.value)){return SyntaxUnit.fromToken(token)}a.unget()}this._unexpectedToken(a.LT(1))},_skipCruft:function(){while(this._tokenStream.match([o.S,o.CDO,o.CDC])){}},_readDeclarations:function(a,b){var c=this._tokenStream,tt;this._readWhitespace();if(a){c.mustMatch(o.LBRACE)}this._readWhitespace();try{while(true){if(b&&this._margin()){}else if(this._declaration()){if(!c.match(o.SEMICOLON)){break}}else{break}this._readWhitespace()}c.mustMatch(o.RBRACE);this._readWhitespace()}catch(ex){if(ex instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col});tt=c.advance([o.SEMICOLON,o.RBRACE]);if(tt==o.SEMICOLON){this._readDeclarations(false,b)}else if(tt==o.RBRACE){}else{throw ex;}}else{throw ex;}}},_readWhitespace:function(){var a=this._tokenStream,ws="";while(a.match(o.S)){ws+=a.token().value}return ws},_unexpectedToken:function(a){throw new SyntaxError("Unexpected token '"+a.value+"' at line "+a.startLine+", col "+a.startCol+".",a.startLine,a.startCol);},_verifyEnd:function(){if(this._tokenStream.LA(1)!=o.EOF){this._unexpectedToken(this._tokenStream.LT(1))}},_validateProperty:function(a,b){var c=a.text.toLowerCase(),validation,i,len;if(m[c]){if(typeof m[c]=="function"){m[c](b)}}else if(c.indexOf("-")!==0){throw new ValidationError("Unknown property '"+a+"'.",a.line,a.col);}},parse:function(a){this._tokenStream=new TokenStream(a,o);this._stylesheet()},parseStyleSheet:function(a){return this.parse(a)},parseMediaQuery:function(a){this._tokenStream=new TokenStream(a,o);var b=this._media_query();this._verifyEnd();return b},parsePropertyValue:function(a){this._tokenStream=new TokenStream(a,o);this._readWhitespace();var b=this._expr();this._readWhitespace();this._verifyEnd();return b},parseRule:function(a){this._tokenStream=new TokenStream(a,o);this._readWhitespace();var b=this._ruleset();this._readWhitespace();this._verifyEnd();return b},parseSelector:function(a){this._tokenStream=new TokenStream(a,o);this._readWhitespace();var b=this._selector();this._readWhitespace();this._verifyEnd();return b}};for(prop in additions){d[prop]=additions[prop]}return d}();var l={"absolute-size":function(a){return this.identifier(a,"xx-small | x-small | small | medium | large | x-large | xx-large")},"attachment":function(a){return this.identifier(a,"scroll | fixed | local")},"box":function(a){return this.identifier(a,"padding-box | border-box | content-box")},"relative-size":function(a){return this.identifier(a,"smaller | larger")},"identifier":function(a,b){var c=a.text.toString().toLowerCase(),args=b.split(" | "),i,len,found=false;for(i=0,len=args.length;i<len&&!found;i++){if(c==args[i]){found=true}}return found},"length":function(a){return a.type=="length"||a.type=="number"||a.type=="integer"||a=="0"},"color":function(a){return a.type=="color"||a=="transparent"},"number":function(a){return a.type=="number"||this.integer(a)},"integer":function(a){return a.type=="integer"},"angle":function(a){return a.type=="angle"},"uri":function(a){return a.type=="uri"},"image":function(a){return this.uri(a)},"bg-image":function(a){return this.image(a)||a=="none"},"percentage":function(a){return a.type=="percentage"||a=="0"},"border-width":function(a){return this.length(a)||this.identifier(a,"thin | medium | thick")},"border-style":function(a){return this.identifier(a,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"margin-width":function(a){return this.length(a)||this.percentage(a)||this.identifier(a,"auto")},"padding-width":function(a){return this.length(a)||this.percentage(a)}};var m={"alignment-adjust":1,"alignment-baseline":1,"animation":1,"animation-delay":1,"animation-direction":{multi:["normal | alternate"],separator:","},"animation-duration":1,"animation-fill-mode":1,"animation-iteration-count":{multi:["number","infinite"],separator:","},"animation-name":1,"animation-play-state":{multi:["running | paused"],separator:","},"animation-timing-function":1,"appearance":1,"azimuth":1,"backface-visibility":1,"background":1,"background-attachment":{multi:["attachment"],separator:","},"background-break":1,"background-clip":{multi:["box"],separator:","},"background-color":["color","inherit"],"background-image":{multi:["bg-image"],separator:","},"background-origin":{multi:["box"],separator:","},"background-position":1,"background-repeat":["repeat | repeat-x | repeat-y | no-repeat | inherit"],"background-size":1,"baseline-shift":1,"binding":1,"bleed":1,"bookmark-label":1,"bookmark-level":1,"bookmark-state":1,"bookmark-target":1,"border":1,"border-bottom":1,"border-bottom-color":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"border-bottom-style":["border-style"],"border-bottom-width":["border-width"],"border-collapse":["collapse | separate | inherit"],"border-color":{multi:["color","inherit"],max:4},"border-image":1,"border-image-outset":{multi:["length","number"],max:4},"border-image-repeat":{multi:["stretch | repeat | round"],max:2},"border-image-slice":1,"border-image-source":["image","none"],"border-image-width":{multi:["length","percentage","number","auto"],max:4},"border-left":1,"border-left-color":["color","inherit"],"border-left-style":["border-style"],"border-left-width":["border-width"],"border-radius":1,"border-right":1,"border-right-color":["color","inherit"],"border-right-style":["border-style"],"border-right-width":["border-width"],"border-spacing":1,"border-style":{multi:["border-style"],max:4},"border-top":1,"border-top-color":["color","inherit"],"border-top-left-radius":1,"border-top-right-radius":1,"border-top-style":["border-style"],"border-top-width":["border-width"],"border-width":{multi:["border-width"],max:4},"bottom":["margin-width","inherit"],"box-align":["start | end | center | baseline | stretch"],"box-decoration-break":["slice |clone"],"box-direction":["normal | reverse | inherit"],"box-flex":["number"],"box-flex-group":["integer"],"box-lines":["single | multiple"],"box-ordinal-group":["integer"],"box-orient":["horizontal | vertical | inline-axis | block-axis | inherit"],"box-pack":["start | end | center | justify"],"box-shadow":1,"box-sizing":["content-box | border-box | inherit"],"break-after":["auto | always | avoid | left | right | page | column | avoid-page | avoid-column"],"break-before":["auto | always | avoid | left | right | page | column | avoid-page | avoid-column"],"break-inside":["auto | avoid | avoid-page | avoid-column"],"caption-side":["top | bottom | inherit"],"clear":["none | right | left | both | inherit"],"clip":1,"color":["color","inherit"],"color-profile":1,"column-count":["integer","auto"],"column-fill":["auto | balance"],"column-gap":["length","normal"],"column-rule":1,"column-rule-color":["color"],"column-rule-style":["border-style"],"column-rule-width":["border-width"],"column-span":["none | all"],"column-width":["length","auto"],"columns":1,"content":1,"counter-increment":1,"counter-reset":1,"crop":1,"cue":["cue-after | cue-before | inherit"],"cue-after":1,"cue-before":1,"cursor":1,"direction":["ltr | rtl | inherit"],"display":["inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | box | inline-box | grid | inline-grid","none | inherit"],"dominant-baseline":1,"drop-initial-after-adjust":1,"drop-initial-after-align":1,"drop-initial-before-adjust":1,"drop-initial-before-align":1,"drop-initial-size":1,"drop-initial-value":1,"elevation":1,"empty-cells":["show | hide | inherit"],"filter":1,"fit":["fill | hidden | meet | slice"],"fit-position":1,"float":["left | right | none | inherit"],"float-offset":1,"font":1,"font-family":1,"font-size":["absolute-size","relative-size","length","percentage","inherit"],"font-size-adjust":1,"font-stretch":1,"font-style":["normal | italic | oblique | inherit"],"font-variant":["normal | small-caps | inherit"],"font-weight":["normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit"],"grid-cell-stacking":["columns | rows | layer"],"grid-column":1,"grid-columns":1,"grid-column-align":["start | end | center | stretch"],"grid-column-sizing":1,"grid-column-span":["integer"],"grid-flow":["none | rows | columns"],"grid-layer":["integer"],"grid-row":1,"grid-rows":1,"grid-row-align":["start | end | center | stretch"],"grid-row-span":["integer"],"grid-row-sizing":1,"hanging-punctuation":1,"height":["margin-width","inherit"],"hyphenate-after":1,"hyphenate-before":1,"hyphenate-character":["string","auto"],"hyphenate-lines":1,"hyphenate-resource":1,"hyphens":["none | manual | auto"],"icon":1,"image-orientation":["angle","auto"],"image-rendering":1,"image-resolution":1,"inline-box-align":1,"left":["margin-width","inherit"],"letter-spacing":["length","normal | inherit"],"line-height":["number","length","percentage","normal | inherit"],"line-break":["auto | loose | normal | strict"],"line-stacking":1,"line-stacking-ruby":1,"line-stacking-shift":1,"line-stacking-strategy":1,"list-style":1,"list-style-image":["uri","none | inherit"],"list-style-position":["inside | outside | inherit"],"list-style-type":["disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit"],"margin":{multi:["margin-width","inherit"],max:4},"margin-bottom":["margin-width","inherit"],"margin-left":["margin-width","inherit"],"margin-right":["margin-width","inherit"],"margin-top":["margin-width","inherit"],"mark":1,"mark-after":1,"mark-before":1,"marks":1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":["length","percentage","none | inherit"],"max-width":["length","percentage","none | inherit"],"min-height":["length","percentage","inherit"],"min-width":["length","percentage","inherit"],"move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,"opacity":["number","inherit"],"orphans":["integer","inherit"],"outline":1,"outline-color":["color","invert | inherit"],"outline-offset":1,"outline-style":["border-style","inherit"],"outline-width":["border-width","inherit"],"overflow":["visible | hidden | scroll | auto | inherit"],"overflow-style":1,"overflow-x":1,"overflow-y":1,"padding":{multi:["padding-width","inherit"],max:4},"padding-bottom":["padding-width","inherit"],"padding-left":["padding-width","inherit"],"padding-right":["padding-width","inherit"],"padding-top":["padding-width","inherit"],"page":1,"page-break-after":["auto | always | avoid | left | right | inherit"],"page-break-before":["auto | always | avoid | left | right | inherit"],"page-break-inside":["auto | avoid | inherit"],"page-policy":1,"pause":1,"pause-after":1,"pause-before":1,"perspective":1,"perspective-origin":1,"phonemes":1,"pitch":1,"pitch-range":1,"play-during":1,"position":["static | relative | absolute | fixed | inherit"],"presentation-level":1,"punctuation-trim":1,"quotes":1,"rendering-intent":1,"resize":1,"rest":1,"rest-after":1,"rest-before":1,"richness":1,"right":["margin-width","inherit"],"rotation":1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,"size":1,"speak":["normal | none | spell-out | inherit"],"speak-header":["once | always | inherit"],"speak-numeral":["digits | continuous | inherit"],"speak-punctuation":["code | none | inherit"],"speech-rate":1,"src":1,"stress":1,"string-set":1,"table-layout":["auto | fixed | inherit"],"tab-size":["integer","length"],"target":1,"target-name":1,"target-new":1,"target-position":1,"text-align":["left | right | center | justify | inherit"],"text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":["length","percentage","inherit"],"text-justify":["auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida"],"text-outline":1,"text-overflow":1,"text-shadow":1,"text-transform":["capitalize | uppercase | lowercase | none | inherit"],"text-wrap":["normal | none | avoid"],"top":["margin-width","inherit"],"transform":1,"transform-origin":1,"transform-style":1,"transition":1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":["normal | embed | bidi-override | inherit"],"user-modify":["read-only | read-write | write-only | inherit"],"user-select":["none | text | toggle | element | elements | all | inherit"],"vertical-align":["percentage","length","baseline | sub | super | top | text-top | middle | bottom | text-bottom | inherit"],"visibility":["visible | hidden | collapse | inherit"],"voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,"volume":1,"white-space":["normal | pre | nowrap | pre-wrap | pre-line | inherit"],"white-space-collapse":1,"widows":["integer","inherit"],"width":["length","percentage","auto","inherit"],"word-break":["normal | keep-all | break-all"],"word-spacing":["length","normal | inherit"],"word-wrap":1,"z-index":["integer","auto | inherit"],"zoom":["number","percentage","normal"]};(function(){var d;for(d in m){if(m.hasOwnProperty(d)){if(m[d]instanceof Array){m[d]=(function(c){return function(a){var b=false,msg=[],part=a.parts[0];if(a.parts.length!=1){throw new ValidationError("Expected 1 value but found "+a.parts.length+".",a.line,a.col);}for(var i=0,len=c.length;i<len&&!b;i++){if(typeof l[c[i]]=="undefined"){b=b||l.identifier(part,c[i]);msg.push("one of ("+c[i]+")")}else{b=b||l[c[i]](part);msg.push(c[i])}}if(!b){throw new ValidationError("Expected "+msg.join(" or ")+" but found '"+a+"'.",a.line,a.col);}}})(m[d])}else if(typeof m[d]=="object"){m[d]=(function(c){return function(a){var b,i,len,j,count,msg,values,last,parts=a.parts;if(c.max){if(parts.length>c.max){throw new ValidationError("Expected a max of "+c.max+" property values but found "+parts.length+".",a.line,a.col);}}if(c.multi){values=c.multi}for(i=0,len=parts.length;i<len;i++){msg=[];b=false;if(c.separator&&parts[i].type=="operator"){if((last&&last.type=="operator")){msg=msg.concat(values)}else if(i==len-1){msg=msg.concat("end of line")}else if(parts[i]!=c.separator){msg.push("'"+c.separator+"'")}else{b=true}}else{for(j=0,count=values.length;j<count;j++){if(typeof l[values[j]]=="undefined"){if(l.identifier(parts[i],values[j])){b=true;break}msg.push("one of ("+values[j]+")")}else{if(l[values[j]](parts[i])){b=true;break}msg.push(values[j])}}}if(!b){throw new ValidationError("Expected "+msg.join(" or ")+" but found '"+parts[i]+"'.",a.line,a.col);}last=parts[i]}}})(m[d])}}}})();function PropertyName(a,b,c,d){SyntaxUnit.call(this,a,c,d,Parser.PROPERTY_NAME_TYPE);this.hack=b}PropertyName.prototype=new SyntaxUnit();PropertyName.prototype.constructor=PropertyName;PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text};function PropertyValue(a,b,c){SyntaxUnit.call(this,a.join(" "),b,c,Parser.PROPERTY_VALUE_TYPE);this.parts=a}PropertyValue.prototype=new SyntaxUnit();PropertyValue.prototype.constructor=PropertyValue;function PropertyValuePart(a,b,c){SyntaxUnit.call(this,a,b,c,Parser.PROPERTY_VALUE_PART_TYPE);this.type="unknown";var d;if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(a)){this.type="dimension";this.value=+RegExp.$1;this.units=RegExp.$2;switch(this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution";break}}else if(/^([+\-]?[\d\.]+)%$/i.test(a)){this.type="percentage";this.value=+RegExp.$1}else if(/^([+\-]?[\d\.]+)%$/i.test(a)){this.type="percentage";this.value=+RegExp.$1}else if(/^([+\-]?\d+)$/i.test(a)){this.type="integer";this.value=+RegExp.$1}else if(/^([+\-]?[\d\.]+)$/i.test(a)){this.type="number";this.value=+RegExp.$1}else if(/^#([a-f0-9]{3,6})/i.test(a)){this.type="color";d=RegExp.$1;if(d.length==3){this.red=parseInt(d.charAt(0)+d.charAt(0),16);this.green=parseInt(d.charAt(1)+d.charAt(1),16);this.blue=parseInt(d.charAt(2)+d.charAt(2),16)}else{this.red=parseInt(d.substring(0,2),16);this.green=parseInt(d.substring(2,4),16);this.blue=parseInt(d.substring(4,6),16)}}else if(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(a)){this.type="color";this.red=+RegExp.$1;this.green=+RegExp.$2;this.blue=+RegExp.$3}else if(/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(a)){this.type="color";this.red=+RegExp.$1*255/100;this.green=+RegExp.$2*255/100;this.blue=+RegExp.$3*255/100}else if(/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(a)){this.type="color";this.red=+RegExp.$1;this.green=+RegExp.$2;this.blue=+RegExp.$3;this.alpha=+RegExp.$4}else if(/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(a)){this.type="color";this.red=+RegExp.$1*255/100;this.green=+RegExp.$2*255/100;this.blue=+RegExp.$3*255/100;this.alpha=+RegExp.$4}else if(/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(a)){this.type="color";this.hue=+RegExp.$1;this.saturation=+RegExp.$2/100;this.lightness=+RegExp.$3/100}else if(/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(a)){this.type="color";this.hue=+RegExp.$1;this.saturation=+RegExp.$2/100;this.lightness=+RegExp.$3/100;this.alpha=+RegExp.$4}else if(/^url\(["']?([^\)"']+)["']?\)/i.test(a)){this.type="uri";this.uri=RegExp.$1}else if(/^["'][^"']*["']/.test(a)){this.type="string";this.value=eval(a)}else if(k[a.toLowerCase()]){this.type="color";d=k[a.toLowerCase()].substring(1);this.red=parseInt(d.substring(0,2),16);this.green=parseInt(d.substring(2,4),16);this.blue=parseInt(d.substring(4,6),16)}else if(/^[\,\/]$/.test(a)){this.type="operator";this.value=a}else if(/^[a-z\-\u0080-\uFFFF][a-z0-9\-\u0080-\uFFFF]*$/i.test(a)){this.type="identifier";this.value=a}}PropertyValuePart.prototype=new SyntaxUnit();PropertyValuePart.prototype.constructor=PropertyValue;PropertyValuePart.fromToken=function(a){return new PropertyValuePart(a.value,a.startLine,a.startCol)};var n={":first-letter":1,":first-line":1,":before":1,":after":1};n.ELEMENT=1;n.CLASS=2;n.isElement=function(a){return a.indexOf("::")===0||n[a.toLowerCase()]==n.ELEMENT};function Selector(a,b,c){SyntaxUnit.call(this,a.join(" "),b,c,Parser.SELECTOR_TYPE);this.parts=a;this.specificity=Specificity.calculate(this)}Selector.prototype=new SyntaxUnit();Selector.prototype.constructor=Selector;function SelectorPart(a,b,c,d,e){SyntaxUnit.call(this,c,d,e,Parser.SELECTOR_PART_TYPE);this.elementName=a;this.modifiers=b}SelectorPart.prototype=new SyntaxUnit();SelectorPart.prototype.constructor=SelectorPart;function SelectorSubPart(a,b,c,d){SyntaxUnit.call(this,a,c,d,Parser.SELECTOR_SUB_PART_TYPE);this.type=b;this.args=[]}SelectorSubPart.prototype=new SyntaxUnit();SelectorSubPart.prototype.constructor=SelectorSubPart;function Specificity(a,b,c,d){this.a=a;this.b=b;this.c=c;this.d=d}Specificity.prototype={constructor:Specificity,compare:function(a){var b=["a","b","c","d"],i,len;for(i=0,len=b.length;i<len;i++){if(this[b[i]]<a[b[i]]){return-1}else if(this[b[i]]>a[b[i]]){return 1}}return 0},valueOf:function(){return(this.a*1000)+(this.b*100)+(this.c*10)+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}};Specificity.calculate=function(e){var i,len,b=0,c=0,d=0;function updateValues(a){var i,j,len,num,modifier;if(a.elementName&&a.text.charAt(a.text.length-1)!="*"){d++}for(i=0,len=a.modifiers.length;i<len;i++){modifier=a.modifiers[i];switch(modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":if(n.isElement(modifier.text)){d++}else{c++}break;case"not":for(j=0,num=modifier.args.length;j<num;j++){updateValues(modifier.args[j])}}}}for(i=0,len=e.parts.length;i<len;i++){part=e.parts[i];if(part instanceof SelectorPart){updateValues(part)}}return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\u0080-\uFFFF]$/,nl=/\n|\r\n|\r|\f/;function isHexDigit(c){return c!=null&&h.test(c)}function isDigit(c){return c!=null&&/\d/.test(c)}function isWhitespace(c){return c!=null&&/\s/.test(c)}function isNewLine(c){return c!=null&&nl.test(c)}function isNameStart(c){return c!=null&&(/[a-z_\u0080-\uFFFF\\]/i.test(c))}function isNameChar(c){return c!=null&&(isNameStart(c)||/[0-9\-\\]/.test(c))}function isIdentStart(c){return c!=null&&(isNameStart(c)||/\-\\/.test(c))}function mix(a,b){for(var c in b){if(b.hasOwnProperty(c)){a[c]=b[c]}}return a}function TokenStream(a){TokenStreamBase.call(this,a,o)}TokenStream.prototype=mix(new TokenStreamBase(),{_getToken:function(a){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();c=reader.read();while(c){switch(c){case"/":if(reader.peek()=="*"){token=this.commentToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"|":case"~":case"^":case"$":case"*":if(reader.peek()=="="){token=this.comparisonToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"\"":case"'":token=this.stringToken(c,startLine,startCol);break;case"#":if(isNameChar(reader.peek())){token=this.hashToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case".":if(isDigit(reader.peek())){token=this.numberToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"-":if(reader.peek()=="-"){token=this.htmlCommentEndToken(c,startLine,startCol)}else if(isNameStart(reader.peek())){token=this.identOrFunctionToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if(reader.peek()=="+"){token=this.unicodeRangeToken(c,startLine,startCol);break}default:if(isDigit(c)){token=this.numberToken(c,startLine,startCol)}else if(isWhitespace(c)){token=this.whitespaceToken(c,startLine,startCol)}else if(isIdentStart(c)){token=this.identOrFunctionToken(c,startLine,startCol)}else{token=this.charToken(c,startLine,startCol)}}break;c=reader.read()}if(!token&&c==null){token=this.createToken(o.EOF,null,startLine,startCol)}return token},createToken:function(a,b,c,d,e){var f=this._reader;e=e||{};return{value:b,type:a,channel:e.channel,hide:e.hide||false,startLine:c,startCol:d,endLine:f.getLine(),endCol:f.getCol()}},atRuleToken:function(a,b,d){var e=a,reader=this._reader,tt=o.CHAR,valid=false,ident,c;reader.mark();ident=this.readName();e=a+ident;tt=o.type(e.toLowerCase());if(tt==o.CHAR||tt==o.UNKNOWN){tt=o.CHAR;e=a;reader.reset()}return this.createToken(tt,e,b,d)},charToken:function(c,a,b){var d=o.type(c);if(d==-1){d=o.CHAR}return this.createToken(d,c,a,b)},commentToken:function(a,b,c){var d=this._reader,comment=this.readComment(a);return this.createToken(o.COMMENT,comment,b,c)},comparisonToken:function(c,a,b){var d=this._reader,comparison=c+d.read(),tt=o.type(comparison)||o.CHAR;return this.createToken(tt,comparison,a,b)},hashToken:function(a,b,c){var d=this._reader,name=this.readName(a);return this.createToken(o.HASH,name,b,c)},htmlCommentStartToken:function(a,b,c){var d=this._reader,text=a;d.mark();text+=d.readCount(3);if(text=="<!--"){return this.createToken(o.CDO,text,b,c)}else{d.reset();return this.charToken(a,b,c)}},htmlCommentEndToken:function(a,b,c){var d=this._reader,text=a;d.mark();text+=d.readCount(2);if(text=="-->"){return this.createToken(o.CDC,text,b,c)}else{d.reset();return this.charToken(a,b,c)}},identOrFunctionToken:function(a,b,c){var d=this._reader,ident=this.readName(a),tt=o.IDENT;if(d.peek()=="("){ident+=d.read();if(ident.toLowerCase()=="url("){tt=o.URI;ident=this.readURI(ident);if(ident.toLowerCase()=="url("){tt=o.FUNCTION}}else{tt=o.FUNCTION}}else if(d.peek()==":"){if(ident.toLowerCase()=="progid"){ident+=d.readTo("(");tt=o.IE_FUNCTION}}return this.createToken(tt,ident,b,c)},importantToken:function(a,b,d){var e=this._reader,important=a,tt=o.CHAR,temp,c;e.mark();c=e.read();while(c){if(c=="/"){if(e.peek()!="*"){break}else{temp=this.readComment(c);if(temp==""){break}}}else if(isWhitespace(c)){important+=c+this.readWhitespace()}else if(/i/i.test(c)){temp=e.readCount(8);if(/mportant/i.test(temp)){important+=c+temp;tt=o.IMPORTANT_SYM}break}else{break}c=e.read()}if(tt==o.CHAR){e.reset();return this.charToken(a,b,d)}else{return this.createToken(tt,important,b,d)}},notToken:function(a,b,c){var d=this._reader,text=a;d.mark();text+=d.readCount(4);if(text.toLowerCase()==":not("){return this.createToken(o.NOT,text,b,c)}else{d.reset();return this.charToken(a,b,c)}},numberToken:function(a,b,d){var e=this._reader,value=this.readNumber(a),ident,tt=o.NUMBER,c=e.peek();if(isIdentStart(c)){ident=this.readName(e.read());value+=ident;if(/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vm$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)){tt=o.LENGTH}else if(/^deg|^rad$|^grad$/i.test(ident)){tt=o.ANGLE}else if(/^ms$|^s$/i.test(ident)){tt=o.TIME}else if(/^hz$|^khz$/i.test(ident)){tt=o.FREQ}else if(/^dpi$|^dpcm$/i.test(ident)){tt=o.RESOLUTION}else{tt=o.DIMENSION}}else if(c=="%"){value+=e.read();tt=o.PERCENTAGE}return this.createToken(tt,value,b,d)},stringToken:function(a,b,d){var e=a,string=a,reader=this._reader,prev=a,tt=o.STRING,c=reader.read();while(c){string+=c;if(c==e&&prev!="\\"){break}if(isNewLine(reader.peek())&&c!="\\"){tt=o.INVALID;break}prev=c;c=reader.read()}if(c==null){tt=o.INVALID}return this.createToken(tt,string,b,d)},unicodeRangeToken:function(a,b,c){var d=this._reader,value=a,temp,tt=o.CHAR;if(d.peek()=="+"){d.mark();value+=d.read();value+=this.readUnicodeRangePart(true);if(value.length==2){d.reset()}else{tt=o.UNICODE_RANGE;if(value.indexOf("?")==-1){if(d.peek()=="-"){d.mark();temp=d.read();temp+=this.readUnicodeRangePart(false);if(temp.length==1){d.reset()}else{value+=temp}}}}}return this.createToken(tt,value,b,c)},whitespaceToken:function(a,b,c){var d=this._reader,value=a+this.readWhitespace();return this.createToken(o.S,value,b,c)},readUnicodeRangePart:function(a){var b=this._reader,part="",c=b.peek();while(isHexDigit(c)&&part.length<6){b.read();part+=c;c=b.peek()}if(a){while(c=="?"&&part.length<6){b.read();part+=c;c=b.peek()}}return part},readWhitespace:function(){var a=this._reader,whitespace="",c=a.peek();while(isWhitespace(c)){a.read();whitespace+=c;c=a.peek()}return whitespace},readNumber:function(a){var b=this._reader,number=a,hasDot=(a=="."),c=b.peek();while(c){if(isDigit(c)){number+=b.read()}else if(c=="."){if(hasDot){break}else{hasDot=true;number+=b.read()}}else{break}c=b.peek()}return number},readString:function(){var a=this._reader,delim=a.read(),string=delim,prev=delim,c=a.peek();while(c){c=a.read();string+=c;if(c==delim&&prev!="\\"){break}if(isNewLine(a.peek())&&c!="\\"){string="";break}prev=c;c=a.peek()}if(c==null){string=""}return string},readURI:function(a){var b=this._reader,uri=a,inner="",c=b.peek();b.mark();while(c&&isWhitespace(c)){b.read();c=b.peek()}if(c=="'"||c=="\""){inner=this.readString()}else{inner=this.readURL()}c=b.peek();while(c&&isWhitespace(c)){b.read();c=b.peek()}if(inner==""||c!=")"){uri=a;b.reset()}else{uri+=inner+b.read()}return uri},readURL:function(){var a=this._reader,url="",c=a.peek();while(/^[!#$%&\\*-~]$/.test(c)){url+=a.read();c=a.peek()}return url},readName:function(a){var b=this._reader,ident=a||"",c=b.peek();while(true){if(c=="\\"){ident+=this.readEscape(b.read());c=b.peek()}else if(c&&isNameChar(c)){ident+=b.read();c=b.peek()}else{break}}return ident},readEscape:function(a){var b=this._reader,cssEscape=a||"",i=0,c=b.peek();if(isHexDigit(c)){do{cssEscape+=b.read();c=b.peek()}while(c&&isHexDigit(c)&&++i<6)}if(cssEscape.length==3&&/\s/.test(c)||cssEscape.length==7||cssEscape.length==1){b.read()}else{c=""}return cssEscape+c},readComment:function(a){var b=this._reader,comment=a||"",c=b.read();if(c=="*"){while(c){comment+=c;if(comment.length>2&&c=="*"&&b.peek()=="/"){comment+=b.read();break}c=b.read()}return comment}else{return""}}});var o=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:true},{name:"COMMENT",comment:true,hide:true,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var b=[],typeMap={};o.UNKNOWN=-1;o.unshift({name:"EOF"});for(var i=0,len=o.length;i<len;i++){b.push(o[i].name);o[o[i].name]=i;if(o[i].text){if(o[i].text instanceof Array){for(var j=0;j<o[i].text.length;j++){typeMap[o[i].text[j]]=i}}else{typeMap[o[i].text]=i}}}o.name=function(a){return b[a]};o.type=function(c){return typeMap[c]||-1}})();function ValidationError(a,b,c){this.col=c;this.line=b;this.message=a}ValidationError.prototype=new Error();p.css={Colors:k,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:o,ValidationError:ValidationError}})();var q=(function(){var f=[],formatters=[],api=new p.util.EventTarget();api.version="0.8.5";api.addRule=function(a){f.push(a);f[a.id]=a};api.clearRules=function(){f=[]};api.getRules=function(){return[].concat(f).sort(function(a,b){return a.id>b.id?1:0})};api.addFormatter=function(a){formatters[a.id]=a};api.getFormatter=function(a){return formatters[a]};api.format=function(a,b,c,d){var e=this.getFormatter(c),result=null;if(e){result=e.startFormat();result+=e.formatResults(a,b,d||{});result+=e.endFormat()}return result};api.hasFormat=function(a){return formatters.hasOwnProperty(a)};api.verify=function(c,d){var i=0,len=f.length,reporter,lines,report,parser=new p.css.Parser({starHack:true,ieFilters:true,underscoreHack:true,strict:false});lines=c.split(/\n\r?/g);if(!d){d={};while(i<len){d[f[i++].id]=1}}reporter=new Reporter(lines,d);d.errors=2;for(i in d){if(d.hasOwnProperty(i)){if(f[i]){f[i].init(parser,reporter)}}}try{parser.parse(c)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}report={messages:reporter.messages,stats:reporter.stats};report.messages.sort(function(a,b){if(a.rollup&&!b.rollup){return 1}else if(!a.rollup&&b.rollup){return-1}else{return a.line-b.line}});return report};return api})();function Reporter(a,b){this.messages=[];this.stats=[];this.lines=a;this.ruleset=b}Reporter.prototype={constructor:Reporter,error:function(a,b,c,d){this.messages.push({type:"error",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d||{}})},warn:function(a,b,c,d){this.report(a,b,c,d)},report:function(a,b,c,d){this.messages.push({type:this.ruleset[d.id]==2?"error":"warning",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d})},info:function(a,b,c,d){this.messages.push({type:"info",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d})},rollupError:function(a,b){this.messages.push({type:"error",rollup:true,message:a,rule:b})},rollupWarn:function(a,b){this.messages.push({type:"warning",rollup:true,message:a,rule:b})},stat:function(a,b){this.stats[a]=b}};q._Reporter=Reporter;function mix(a,b){var c;for(c in b){if(b.hasOwnProperty(c)){a[c]=b[c]}}return c}function indexOf(a,b){if(a.indexOf){return a.indexOf(b)}else{for(var i=0,len=a.length;i<len;i++){if(a[i]===b){return i}}return-1}}q.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don't use adjoining classes.",browsers:"IE6",init:function(c,d){var e=this;c.addListener("startrule",function(a){var b=a.selectors,selector,part,modifier,classCount,i,j,k;for(i=0;i<b.length;i++){selector=b[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==c.SELECTOR_PART_TYPE){classCount=0;for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="class"){classCount++}if(classCount>1){d.report("Don't use adjoining classes.",part.line,part.col,e)}}}}}})}});q.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don't use width or height when using padding or border.",browsers:"All",init:function(c,d){var e=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},properties;function startRule(){properties={}}function endRule(){var a;if(properties.height){for(a in heightProperties){if(heightProperties.hasOwnProperty(a)&&properties[a]){if(!(a=="padding"&&properties[a].value.parts.length===2&&properties[a].value.parts[0].value===0)){d.report("Using height with "+a+" can sometimes make elements larger than you expect.",properties[a].line,properties[a].col,e)}}}}if(properties.width){for(a in widthProperties){if(widthProperties.hasOwnProperty(a)&&properties[a]){if(!(a=="padding"&&properties[a].value.parts.length===2&&properties[a].value.parts[1].value===0)){d.report("Using width with "+a+" can sometimes make elements larger than you expect.",properties[a].line,properties[a].col,e)}}}}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("startpage",startRule);c.addListener("startpagemargin",startRule);c.addListener("startkeyframerule",startRule);c.addListener("property",function(a){var b=a.property.text.toLowerCase();if(heightProperties[b]||widthProperties[b]){if(!/^0\S*$/.test(a.value)&&!(b=="border"&&a.value=="none")){properties[b]={line:a.property.line,col:a.property.col,value:a.value}}}else{if(b=="width"||b=="height"){properties[b]=1}}});c.addListener("endrule",endRule);c.addListener("endfontface",endRule);c.addListener("endpage",endRule);c.addListener("endpagemargin",endRule);c.addListener("endkeyframerule",endRule)}});q.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(c,d){var e=this;c.addListener("property",function(a){var b=a.property.text.toLowerCase();if(b=="box-sizing"){d.report("The box-sizing property isn't supported in IE6 and IE7.",a.line,a.col,e)}})}});q.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(c,d){var e=this,compatiblePrefixes,properties,prop,variations,prefixed,i,len,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={"animation":"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz","appearance":"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit moz","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz","column-gap":"webkit moz","column-rule":"webkit moz","column-rule-color":"webkit moz","column-rule-style":"webkit moz","column-rule-width":"webkit moz","column-width":"webkit moz","hyphens":"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms","transform":"webkit moz ms o","transform-origin":"webkit moz ms o","transition":"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes){if(compatiblePrefixes.hasOwnProperty(prop)){variations=[];prefixed=compatiblePrefixes[prop].split(' ');for(i=0,len=prefixed.length;i<len;i++){variations.push('-'+prefixed[i]+'-'+prop)}compatiblePrefixes[prop]=variations;arrayPush.apply(applyTo,variations)}}c.addListener("startrule",function(){properties=[]});c.addListener("property",function(a){var b=a.property.text;if(applyTo.indexOf(b)>-1){properties.push(b)}});c.addListener("endrule",function(a){if(!properties.length){return}var b={},i,len,name,prop,variations,value,full,actual,item,propertiesSpecified;for(i=0,len=properties.length;i<len;i++){name=properties[i];for(prop in compatiblePrefixes){if(compatiblePrefixes.hasOwnProperty(prop)){variations=compatiblePrefixes[prop];if(variations.indexOf(name)>-1){if(b[prop]===undefined){b[prop]={full:variations.slice(0),actual:[]}}if(b[prop].actual.indexOf(name)===-1){b[prop].actual.push(name)}}}}}for(prop in b){if(b.hasOwnProperty(prop)){value=b[prop];full=value.full;actual=value.actual;if(full.length>actual.length){for(i=0,len=full.length;i<len;i++){item=full[i];if(actual.indexOf(item)===-1){propertiesSpecified=(actual.length===1)?actual[0]:(actual.length==2)?actual.join(" and "):actual.join(", ");d.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",a.selectors[0].line,a.selectors[0].col,e)}}}}}})}});q.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values.",browsers:"All",init:function(d,e){var f=this;var g={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1},properties;function reportProperty(a,b,c){if(properties[a]){if(typeof g[a]!="string"||properties[a].value.toLowerCase()!=g[a]){e.report(c||a+" can't be used with display: "+b+".",properties[a].line,properties[a].col,f)}}}function startRule(){properties={}}function endRule(){var a=properties.display?properties.display.value:null;if(a){switch(a){case"inline":reportProperty("height",a);reportProperty("width",a);reportProperty("margin",a);reportProperty("margin-top",a);reportProperty("margin-bottom",a);reportProperty("float",a,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",a);break;case"inline-block":reportProperty("float",a);break;default:if(a.indexOf("table-")===0){reportProperty("margin",a);reportProperty("margin-left",a);reportProperty("margin-right",a);reportProperty("margin-top",a);reportProperty("margin-bottom",a);reportProperty("float",a)}}}}d.addListener("startrule",startRule);d.addListener("startfontface",startRule);d.addListener("startkeyframerule",startRule);d.addListener("startpagemargin",startRule);d.addListener("startpage",startRule);d.addListener("property",function(a){var b=a.property.text.toLowerCase();if(g[b]){properties[b]={value:a.value.text,line:a.property.line,col:a.property.col}}});d.addListener("endrule",endRule);d.addListener("endfontface",endRule);d.addListener("endkeyframerule",endRule);d.addListener("endpagemargin",endRule);d.addListener("endpage",endRule)}});q.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(c,d){var e=this,properties,lastProperty;function startRule(a){properties={}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("startpage",startRule);c.addListener("startpagemargin",startRule);c.addListener("startkeyframerule",startRule);c.addListener("property",function(a){var b=a.property,name=b.text.toLowerCase();if(properties[name]&&(lastProperty!=name||properties[name]==a.value.text)){d.report("Duplicate property '"+a.property+"' found.",a.line,a.col,e)}properties[name]=a.value.text;lastProperty=name})}});q.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(c,d){var e=this,count=0;c.addListener("startrule",function(){count=0});c.addListener("property",function(){count++});c.addListener("endrule",function(a){var b=a.selectors;if(count===0){d.report("Rule is empty.",b[0].line,b[0].col,e)}})}});q.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(b,c){var d=this;b.addListener("error",function(a){c.error(a.message,a.line,a.col,d)})}});q.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(b,c){var d=this;var e=0;b.addListener("property",function(a){if(a.property.text.toLowerCase()=="float"&&a.value.text.toLowerCase()!="none"){e++}});b.addListener("endstylesheet",function(){c.stat("floats",e);if(e>=10){c.rollupWarn("Too many floats ("+e+"), you're probably using them for layout. Consider using a grid system instead.",d)}})}});q.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(a,b){var c=this,count=0;a.addListener("startfontface",function(){count++});a.addListener("endstylesheet",function(){if(count>5){b.rollupWarn("Too many @font-face declarations ("+count+").",c)}})}});q.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(b,c){var d=this,count=0;b.addListener("property",function(a){if(a.property=="font-size"){count++}});b.addListener("endstylesheet",function(){c.stat("font-sizes",count);if(count>=10){c.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",d)}})}});q.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(c,d){var e=this,gradients;c.addListener("startrule",function(){gradients={moz:0,webkit:0,ms:0,o:0}});c.addListener("property",function(a){if(/\-(moz|ms|o|webkit)(?:\-(?:linear|radial))\-gradient/.test(a.value)){gradients[RegExp.$1]=1}});c.addListener("endrule",function(a){var b=[];if(!gradients.moz){b.push("Firefox 3.6+")}if(!gradients.webkit){b.push("Webkit (Safari, Chrome)")}if(!gradients.ms){b.push("Internet Explorer 10+")}if(!gradients.o){b.push("Opera 11.1+")}if(b.length&&b.length<4){d.report("Missing vendor-prefixed CSS gradients for "+b.join(", ")+".",a.selectors[0].line,a.selectors[0].col,e)}})}});q.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(c,d){var e=this;c.addListener("startrule",function(a){var b=a.selectors,selector,part,modifier,idCount,i,j,k;for(i=0;i<b.length;i++){selector=b[i];idCount=0;for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==c.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="id"){idCount++}}}}if(idCount==1){d.report("Don't use IDs in selectors.",selector.line,selector.col,e)}else if(idCount>1){d.report(idCount+" IDs in the selector, really?",selector.line,selector.col,e)}}})}});q.addRule({id:"import",name:"Disallow @import",desc:"Don't use @import, use <link> instead.",browsers:"All",init:function(b,c){var d=this;b.addListener("import",function(a){c.report("@import prevents parallel downloads, use <link> instead.",a.line,a.col,d)})}});q.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(b,c){var d=this,count=0;b.addListener("property",function(a){if(a.important===true){count++;c.report("Use of !important",a.line,a.col,d)}});b.addListener("endstylesheet",function(){c.stat("important",count);if(count>=10){c.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specifity issues.",d)}})}});q.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS specification) or be a vendor-prefixed property.",browsers:"All",init:function(c,d){var e=this,properties={"alignment-adjust":1,"alignment-baseline":1,"animation":1,"animation-delay":1,"animation-direction":1,"animation-duration":1,"animation-fill-mode":1,"animation-iteration-count":1,"animation-name":1,"animation-play-state":1,"animation-timing-function":1,"appearance":1,"azimuth":1,"backface-visibility":1,"background":1,"background-attachment":1,"background-break":1,"background-clip":1,"background-color":1,"background-image":1,"background-origin":1,"background-position":1,"background-repeat":1,"background-size":1,"baseline-shift":1,"binding":1,"bleed":1,"bookmark-label":1,"bookmark-level":1,"bookmark-state":1,"bookmark-target":1,"border":1,"border-bottom":1,"border-bottom-color":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"border-bottom-style":1,"border-bottom-width":1,"border-collapse":1,"border-color":1,"border-image":1,"border-image-outset":1,"border-image-repeat":1,"border-image-slice":1,"border-image-source":1,"border-image-width":1,"border-left":1,"border-left-color":1,"border-left-style":1,"border-left-width":1,"border-radius":1,"border-right":1,"border-right-color":1,"border-right-style":1,"border-right-width":1,"border-spacing":1,"border-style":1,"border-top":1,"border-top-color":1,"border-top-left-radius":1,"border-top-right-radius":1,"border-top-style":1,"border-top-width":1,"border-width":1,"bottom":1,"box-align":1,"box-decoration-break":1,"box-direction":1,"box-flex":1,"box-flex-group":1,"box-lines":1,"box-ordinal-group":1,"box-orient":1,"box-pack":1,"box-shadow":1,"box-sizing":1,"break-after":1,"break-before":1,"break-inside":1,"caption-side":1,"clear":1,"clip":1,"color":1,"color-profile":1,"column-count":1,"column-fill":1,"column-gap":1,"column-rule":1,"column-rule-color":1,"column-rule-style":1,"column-rule-width":1,"column-span":1,"column-width":1,"columns":1,"content":1,"counter-increment":1,"counter-reset":1,"crop":1,"cue":1,"cue-after":1,"cue-before":1,"cursor":1,"direction":1,"display":1,"dominant-baseline":1,"drop-initial-after-adjust":1,"drop-initial-after-align":1,"drop-initial-before-adjust":1,"drop-initial-before-align":1,"drop-initial-size":1,"drop-initial-value":1,"elevation":1,"empty-cells":1,"fit":1,"fit-position":1,"float":1,"float-offset":1,"font":1,"font-family":1,"font-size":1,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"grid-columns":1,"grid-rows":1,"hanging-punctuation":1,"height":1,"hyphenate-after":1,"hyphenate-before":1,"hyphenate-character":1,"hyphenate-lines":1,"hyphenate-resource":1,"hyphens":1,"icon":1,"image-orientation":1,"image-rendering":1,"image-resolution":1,"inline-box-align":1,"left":1,"letter-spacing":1,"line-height":1,"line-stacking":1,"line-stacking-ruby":1,"line-stacking-shift":1,"line-stacking-strategy":1,"list-style":1,"list-style-image":1,"list-style-position":1,"list-style-type":1,"margin":1,"margin-bottom":1,"margin-left":1,"margin-right":1,"margin-top":1,"mark":1,"mark-after":1,"mark-before":1,"marks":1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":1,"max-width":1,"min-height":1,"min-width":1,"move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,"opacity":1,"orphans":1,"outline":1,"outline-color":1,"outline-offset":1,"outline-style":1,"outline-width":1,"overflow":1,"overflow-style":1,"overflow-x":1,"overflow-y":1,"padding":1,"padding-bottom":1,"padding-left":1,"padding-right":1,"padding-top":1,"page":1,"page-break-after":1,"page-break-before":1,"page-break-inside":1,"page-policy":1,"pause":1,"pause-after":1,"pause-before":1,"perspective":1,"perspective-origin":1,"phonemes":1,"pitch":1,"pitch-range":1,"play-during":1,"position":1,"presentation-level":1,"punctuation-trim":1,"quotes":1,"rendering-intent":1,"resize":1,"rest":1,"rest-after":1,"rest-before":1,"richness":1,"right":1,"rotation":1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,"size":1,"speak":1,"speak-header":1,"speak-numeral":1,"speak-punctuation":1,"speech-rate":1,"stress":1,"string-set":1,"table-layout":1,"target":1,"target-name":1,"target-new":1,"target-position":1,"text-align":1,"text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":1,"text-justify":1,"text-outline":1,"text-shadow":1,"text-transform":1,"text-wrap":1,"top":1,"transform":1,"transform-origin":1,"transform-style":1,"transition":1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":1,"user-modify":1,"user-select":1,"vertical-align":1,"visibility":1,"voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,"volume":1,"white-space":1,"white-space-collapse":1,"widows":1,"width":1,"word-break":1,"word-spacing":1,"word-wrap":1,"z-index":1,"filter":1,"zoom":1,//@font-face
"src":1};c.addListener("property",function(a){var b=a.property.text.toLowerCase();if(a.invalid){d.report(a.invalid.message,a.line,a.col,e)}})}});q.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(c,d){var e=this,lastRule;function startRule(a){if(a.selectors){lastRule={line:a.line,col:a.col,selectors:a.selectors,propCount:0,outline:false}}else{lastRule=null}}function endRule(a){if(lastRule){if(lastRule.outline){if(lastRule.selectors.toString().toLowerCase().indexOf(":focus")==-1){d.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,e)}else if(lastRule.propCount==1){d.report("Outlines shouldn't be hidden unless other visual changes are made.",lastRule.line,lastRule.col,e)}}}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("startpage",startRule);c.addListener("startpagemargin",startRule);c.addListener("startkeyframerule",startRule);c.addListener("property",function(a){var b=a.property.text.toLowerCase(),value=a.value;if(lastRule){lastRule.propCount++;if(b=="outline"&&(value=="none"||value=="0")){lastRule.outline=true}}});c.addListener("endrule",endRule);c.addListener("endfontface",endRule);c.addListener("endpage",endRule);c.addListener("endpagemargin",endRule);c.addListener("endkeyframerule",endRule)}});q.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(c,d){var e=this,classes={};c.addListener("startrule",function(a){var b=a.selectors,selector,part,modifier,i,j,k;for(i=0;i<b.length;i++){selector=b[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==c.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(part.elementName&&modifier.type=="id"){d.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,e)}else if(modifier.type=="class"){if(!classes[modifier]){classes[modifier]=[]}classes[modifier].push({modifier:modifier,part:part})}}}}}});c.addListener("endstylesheet",function(){var a;for(a in classes){if(classes.hasOwnProperty(a)){if(classes[a].length==1&&classes[a][0].part.elementName){d.report("Element ("+classes[a][0].part+") is overqualified, just use "+classes[a][0].modifier+" without element name.",classes[a][0].part.line,classes[a][0].part.col,e)}}}})}});q.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(c,d){var e=this;c.addListener("startrule",function(a){var b=a.selectors,selector,part,i,j;for(i=0;i<b.length;i++){selector=b[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==c.SELECTOR_PART_TYPE){if(part.elementName&&/h[1-6]/.test(part.elementName.toString())&&j>0){d.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,e)}}}}})}});q.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(c,d){var e=this;c.addListener("startrule",function(a){var b=a.selectors,selector,part,modifier,i,j,k;for(i=0;i<b.length;i++){selector=b[i];for(j=0;j<selector.parts.length;j++){part=selector.parts[j];if(part.type==c.SELECTOR_PART_TYPE){for(k=0;k<part.modifiers.length;k++){modifier=part.modifiers[k];if(modifier.type=="attribute"){if(/([\~\|\^\$\*]=)/.test(modifier)){d.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,e)}}}}}}})}});q.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(a,b){var c=this,count=0;a.addListener("startrule",function(){count++});a.addListener("endstylesheet",function(){b.stat("rule-count",count)})}});q.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(c,d){var e=this,prop,i,len,propertiesToCheck={},properties,mapping={"margin":["margin-top","margin-bottom","margin-left","margin-right"],"padding":["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping){if(mapping.hasOwnProperty(prop)){for(i=0,len=mapping[prop].length;i<len;i++){propertiesToCheck[mapping[prop][i]]=prop}}}function startRule(a){properties={}}function endRule(a){var b,i,len,total;for(b in mapping){if(mapping.hasOwnProperty(b)){total=0;for(i=0,len=mapping[b].length;i<len;i++){total+=properties[mapping[b][i]]?1:0}if(total==mapping[b].length){d.report("The properties "+mapping[b].join(", ")+" can be replaced by "+b+".",a.line,a.col,e)}}}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("property",function(a){var b=a.property.toString().toLowerCase(),value=a.value.parts[0].value;if(propertiesToCheck[b]){properties[b]=1}});c.addListener("endrule",endRule);c.addListener("endfontface",endRule)}});q.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(c,d){var e=this,textIndent=false;function startRule(a){textIndent=false}function endRule(a){if(textIndent){d.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set text-direction for that item to ltr.",textIndent.line,textIndent.col,e)}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("property",function(a){var b=a.property.toString().toLowerCase(),value=a.value;if(b=="text-indent"&&value.parts[0].value<-99){textIndent=a.property}else if(b=="direction"&&value=="ltr"){textIndent=false}});c.addListener("endrule",endRule);c.addListener("endfontface",endRule)}});q.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(c,d){var e=this;var f={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};c.addListener("startrule",function(a){var b=a.selectors,selector,part,pseudo,i,j;for(i=0;i<b.length;i++){selector=b[i];part=selector.parts[selector.parts.length-1];if(part.elementName&&/(h[1-6])/i.test(part.elementName.toString())){for(j=0;j<part.modifiers.length;j++){if(part.modifiers[j].type=="pseudo"){pseudo=true;break}}if(!pseudo){f[RegExp.$1]++;if(f[RegExp.$1]>1){d.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,e)}}}}});c.addListener("endstylesheet",function(a){var b,messages=[];for(b in f){if(f.hasOwnProperty(b)){if(f[b]>1){messages.push(f[b]+" "+b+"s")}}}if(messages.length){d.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",e)}})}});q.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(c,d){var e=this;c.addListener("startrule",function(a){var b=a.selectors,selector,part,modifier,i,j,k;for(i=0;i<b.length;i++){selector=b[i];part=selector.parts[selector.parts.length-1];if(part.elementName=="*"){d.report(e.desc,part.line,part.col,e)}}})}});q.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(c,d){var e=this,properties,num,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing","-moz-user-select":"user-select","-khtml-user-select":"user-select","-webkit-user-select":"user-select"};function startRule(){properties={};num=1}function endRule(a){var b,i,len,standard,needed,actual,needsStandard=[];for(b in properties){if(propertiesToCheck[b]){needsStandard.push({actual:b,needed:propertiesToCheck[b]})}}for(i=0,len=needsStandard.length;i<len;i++){needed=needsStandard[i].needed;actual=needsStandard[i].actual;if(!properties[needed]){d.report("Missing standard property '"+needed+"' to go along with '"+actual+"'.",a.line,a.col,e)}else{if(properties[needed][0].pos<properties[actual][0].pos){d.report("Standard property '"+needed+"' should come after vendor-prefixed property '"+actual+"'.",a.line,a.col,e)}}}}c.addListener("startrule",startRule);c.addListener("startfontface",startRule);c.addListener("startpage",startRule);c.addListener("startpagemargin",startRule);c.addListener("startkeyframerule",startRule);c.addListener("property",function(a){var b=a.property.text.toLowerCase();if(!properties[b]){properties[b]=[]}properties[b].push({name:a.property,value:a.value,pos:num++})});c.addListener("endrule",endRule);c.addListener("endfontface",endRule);c.addListener("endpage",endRule);c.addListener("endpagemargin",endRule);c.addListener("endkeyframerule",endRule)}});q.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don't need to specify units when a value is 0.",browsers:"All",init:function(c,d){var e=this;c.addListener("property",function(a){var b=a.value.parts,i=0,len=b.length;while(i<len){if((b[i].units||b[i].type=="percentage")&&b[i].value===0){d.report("Values of 0 shouldn't have units specified.",b[i].line,b[i].col,e)}i++}})}});q.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return"<?xml version=\"1.0\" encoding=\"utf-8\"?><checkstyle>"},endFormat:function(){return"</checkstyle>"},formatResults:function(b,c,d){var e=b.messages,output=[];var f=function(a){if(!a||!('name'in a)){return""}return'net.csslint.'+a.name.replace(/\s/g,'')};var g=function(a){if(!a||a.constructor!==String){return""}return a.replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(e.length>0){output.push("<file name=\""+c+"\">");e.forEach(function(a,i){if(!a.rollup){output.push("<error line=\""+a.line+"\" column=\""+a.col+"\" severity=\""+a.type+"\""+" message=\""+g(a.message)+"\" source=\""+f(a.rule)+"\"/>")}});output.push("</file>")}return output.join("")}});q.addFormatter({id:"compact",name:"Compact, 'porcelain' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(b,c,d){var e=b.messages,output="";d=d||{};var f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};if(e.length===0){return d.quiet?"":c+": Lint Free!"}e.forEach(function(a,i){if(a.rollup){output+=c+": "+f(a.type)+" - "+a.message+"\n"}else{output+=c+": "+"line "+a.line+", col "+a.col+", "+f(a.type)+" - "+a.message+"\n"}});return output}});q.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return"<?xml version=\"1.0\" encoding=\"utf-8\"?><csslint>"},endFormat:function(){return"</csslint>"},formatResults:function(b,c,d){var e=b.messages,output=[];var f=function(a){if(!a||a.constructor!==String){return""}return a.replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(e.length>0){output.push("<file name=\""+c+"\">");e.forEach(function(a,i){if(a.rollup){output.push("<issue severity=\""+a.type+"\" reason=\""+f(a.message)+"\" evidence=\""+f(a.evidence)+"\"/>")}else{output.push("<issue line=\""+a.line+"\" char=\""+a.col+"\" severity=\""+a.type+"\""+" reason=\""+f(a.message)+"\" evidence=\""+f(a.evidence)+"\"/>")}});output.push("</file>")}return output.join("")}});q.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return"<?xml version=\"1.0\" encoding=\"utf-8\"?><lint>"},endFormat:function(){return"</lint>"},formatResults:function(b,c,d){var e=b.messages,output=[];var f=function(a){if(!a||a.constructor!==String){return""}return a.replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;")};if(e.length>0){output.push("<file name=\""+c+"\">");e.forEach(function(a,i){if(a.rollup){output.push("<issue severity=\""+a.type+"\" reason=\""+f(a.message)+"\" evidence=\""+f(a.evidence)+"\"/>")}else{output.push("<issue line=\""+a.line+"\" char=\""+a.col+"\" severity=\""+a.type+"\""+" reason=\""+f(a.message)+"\" evidence=\""+f(a.evidence)+"\"/>")}});output.push("</file>")}return output.join("")}});q.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(b,c,d){var e=b.messages,output="";d=d||{};if(e.length===0){return d.quiet?"":"\n\ncsslint: No errors in "+c+"."}output="\n\ncsslint: There are "+e.length+" problems in "+c+".";var f=c.lastIndexOf("/"),shortFilename=c;if(f===-1){f=c.lastIndexOf("\\")}if(f>-1){shortFilename=c.substring(f+1)}e.forEach(function(a,i){output=output+"\n\n"+shortFilename;if(a.rollup){output+="\n"+(i+1)+": "+a.type;output+="\n"+a.message}else{output+="\n"+(i+1)+": "+a.type+" at line "+a.line+", col "+a.col;output+="\n"+a.message;output+="\n"+a.evidence}});return output}});return q})();
var JSHINT=(function(){"use strict";var u,bang={'<':true,'<=':true,'==':true,'===':true,'!==':true,'!=':true,'>':true,'>=':true,'+':true,'-':true,'*':true,'/':true,'%':true},boolOptions={asi:true,bitwise:true,boss:true,browser:true,couch:true,curly:true,debug:true,devel:true,dojo:true,eqeqeq:true,eqnull:true,es5:true,esnext:true,evil:true,expr:true,forin:true,funcscope:true,globalstrict:true,immed:true,iterator:true,jquery:true,lastsemic:true,latedef:true,laxbreak:true,loopfunc:true,mootools:true,multistr:true,newcap:true,noarg:true,node:true,noempty:true,nonew:true,nonstandard:true,nomen:true,onevar:true,onecase:true,passfail:true,plusplus:true,proto:true,prototypejs:true,regexdash:true,regexp:true,rhino:true,undef:true,scripturl:true,shadow:true,smarttabs:true,strict:true,sub:true,supernew:true,trailing:true,validthis:true,white:true,wsh:true},browser={ArrayBuffer:false,ArrayBufferView:false,Audio:false,addEventListener:false,applicationCache:false,blur:false,clearInterval:false,clearTimeout:false,close:false,closed:false,DataView:false,defaultStatus:false,document:false,event:false,FileReader:false,Float32Array:false,Float64Array:false,FormData:false,focus:false,frames:false,getComputedStyle:false,HTMLElement:false,HTMLAnchorElement:false,HTMLBaseElement:false,HTMLBlockquoteElement:false,HTMLBodyElement:false,HTMLBRElement:false,HTMLButtonElement:false,HTMLCanvasElement:false,HTMLDirectoryElement:false,HTMLDivElement:false,HTMLDListElement:false,HTMLFieldSetElement:false,HTMLFontElement:false,HTMLFormElement:false,HTMLFrameElement:false,HTMLFrameSetElement:false,HTMLHeadElement:false,HTMLHeadingElement:false,HTMLHRElement:false,HTMLHtmlElement:false,HTMLIFrameElement:false,HTMLImageElement:false,HTMLInputElement:false,HTMLIsIndexElement:false,HTMLLabelElement:false,HTMLLayerElement:false,HTMLLegendElement:false,HTMLLIElement:false,HTMLLinkElement:false,HTMLMapElement:false,HTMLMenuElement:false,HTMLMetaElement:false,HTMLModElement:false,HTMLObjectElement:false,HTMLOListElement:false,HTMLOptGroupElement:false,HTMLOptionElement:false,HTMLParagraphElement:false,HTMLParamElement:false,HTMLPreElement:false,HTMLQuoteElement:false,HTMLScriptElement:false,HTMLSelectElement:false,HTMLStyleElement:false,HTMLTableCaptionElement:false,HTMLTableCellElement:false,HTMLTableColElement:false,HTMLTableElement:false,HTMLTableRowElement:false,HTMLTableSectionElement:false,HTMLTextAreaElement:false,HTMLTitleElement:false,HTMLUListElement:false,HTMLVideoElement:false,history:false,Int16Array:false,Int32Array:false,Int8Array:false,Image:false,length:false,localStorage:false,location:false,moveBy:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,openDatabase:false,opener:false,Option:false,parent:false,print:false,removeEventListener:false,resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,sessionStorage:false,setInterval:false,setTimeout:false,SharedWorker:false,status:false,top:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,WebSocket:false,window:false,Worker:false,XMLHttpRequest:false,XPathEvaluator:false,XPathException:false,XPathExpression:false,XPathNamespace:false,XPathNSResolver:false,XPathResult:false},couch={"require":false,respond:false,getRow:false,emit:false,send:false,start:false,sum:false,log:false,exports:false,module:false},devel={alert:false,confirm:false,console:false,Debug:false,opera:false,prompt:false},dojo={dojo:false,dijit:false,dojox:false,define:false,"require":false},escapes={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','/':'\\/','\\':'\\\\'},funct,functionicity=['closure','exception','global','label','outer','unused','var'],functions,global,implied,inblock,indent,jsonmode,jquery={'$':false,jQuery:false},lines,lookahead,member,membersOnly,mootools={'$':false,'$$':false,Assets:false,Browser:false,Chain:false,Class:false,Color:false,Cookie:false,Core:false,Document:false,DomReady:false,DOMReady:false,Drag:false,Element:false,Elements:false,Event:false,Events:false,Fx:false,Group:false,Hash:false,HtmlTable:false,Iframe:false,IframeShim:false,InputValidator:false,instanceOf:false,Keyboard:false,Locale:false,Mask:false,MooTools:false,Native:false,Options:false,OverText:false,Request:false,Scroller:false,Slick:false,Slider:false,Sortables:false,Spinner:false,Swiff:false,Tips:false,Type:false,typeOf:false,URI:false,Window:false},nexttoken,node={__filename:false,__dirname:false,Buffer:false,console:false,exports:false,GLOBAL:false,global:false,module:false,process:false,require:false,setTimeout:false,clearTimeout:false,setInterval:false,clearInterval:false},noreach,option,predefined,prereg,prevtoken,prototypejs={'$':false,'$$':false,'$A':false,'$F':false,'$H':false,'$R':false,'$break':false,'$continue':false,'$w':false,Abstract:false,Ajax:false,Class:false,Enumerable:false,Element:false,Event:false,Field:false,Form:false,Hash:false,Insertion:false,ObjectRange:false,PeriodicalExecuter:false,Position:false,Prototype:false,Selector:false,Template:false,Toggle:false,Try:false,Autocompleter:false,Builder:false,Control:false,Draggable:false,Draggables:false,Droppables:false,Effect:false,Sortable:false,SortableObserver:false,Sound:false,Scriptaculous:false},rhino={defineClass:false,deserialize:false,gc:false,help:false,importPackage:false,"java":false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false},scope,stack,standard={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,'eval':false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false},nonstandard={escape:false,unescape:false},standard_member={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,PI:true,POSITIVE_INFINITY:true,SQRT1_2:true,SQRT2:true},directive,syntax={},tab,token,urls,useESNextSyntax,warnings,wsh={ActiveXObject:true,Enumerator:true,GetObject:true,ScriptEngine:true,ScriptEngineBuildVersion:true,ScriptEngineMajorVersion:true,ScriptEngineMinorVersion:true,VBArray:true,WSH:true,WScript:true,XDomainRequest:true};var y,cx,tx,nx,nxg,lx,ix,jx,ft;(function(){y=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i;cx=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;tx=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;nx=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;nxg=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;lx=/\*\/|\/\*/;ix=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;jx=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i;ft=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}());function F(){}function is_own(a,b){return Object.prototype.hasOwnProperty.call(a,b)}if(typeof Array.isArray!=='function'){Array.isArray=function(o){return Object.prototype.toString.apply(o)==='[object Array]'}}if(typeof Object.create!=='function'){Object.create=function(o){F.prototype=o;return new F()}}if(typeof Object.keys!=='function'){Object.keys=function(o){var a=[],k;for(k in o){if(is_own(o,k)){a.push(k)}}return a}}if(typeof String.prototype.entityify!=='function'){String.prototype.entityify=function(){return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}}if(typeof String.prototype.isAlpha!=='function'){String.prototype.isAlpha=function(){return(this>='a'&&this<='z\uffff')||(this>='A'&&this<='Z\uffff')}}if(typeof String.prototype.isDigit!=='function'){String.prototype.isDigit=function(){return(this>='0'&&this<='9')}}if(typeof String.prototype.supplant!=='function'){String.prototype.supplant=function(o){return this.replace(/\{([^{}]*)\}/g,function(a,b){var r=o[b];return typeof r==='string'||typeof r==='number'?r:a})}}if(typeof String.prototype.name!=='function'){String.prototype.name=function(){if(ix.test(this)){return this}if(nx.test(this)){return'"'+this.replace(nxg,function(a){var c=escapes[a];if(c){return c}return'\\u'+('0000'+a.charCodeAt().toString(16)).slice(-4)})+'"'}return'"'+this+'"'}}function combine(t,o){var n;for(n in o){if(is_own(o,n)){t[n]=o[n]}}}function assume(){if(option.couch){combine(predefined,couch)}if(option.rhino){combine(predefined,rhino)}if(option.prototypejs){combine(predefined,prototypejs)}if(option.node){combine(predefined,node)}if(option.devel){combine(predefined,devel)}if(option.dojo){combine(predefined,dojo)}if(option.browser){combine(predefined,browser)}if(option.nonstandard){combine(predefined,nonstandard)}if(option.jquery){combine(predefined,jquery)}if(option.mootools){combine(predefined,mootools)}if(option.wsh){combine(predefined,wsh)}if(option.esnext){useESNextSyntax()}if(option.globalstrict&&option.strict!==false){option.strict=true}}function quit(a,b,c){var d=Math.floor((b/lines.length)*100);throw{name:'JSHintError',line:b,character:c,message:a+" ("+d+"% scanned).",raw:a}}function isundef(b,m,t,a){return JSHINT.undefs.push([b,m,t,a])}function warning(m,t,a,b,c,d){var e,l,w;t=t||nexttoken;if(t.id==='(end)'){t=token}l=t.line||0;e=t.from||0;w={id:'(error)',raw:m,evidence:lines[l-1]||'',line:l,character:e,a:a,b:b,c:c,d:d};w.reason=m.supplant(w);JSHINT.errors.push(w);if(option.passfail){quit('Stopping. ',l,e)}warnings+=1;if(warnings>=option.maxerr){quit("Too many errors.",l,e)}return w}function warningAt(m,l,e,a,b,c,d){return warning(m,{line:l,from:e},a,b,c,d)}function error(m,t,a,b,c,d){var w=warning(m,t,a,b,c,d)}function errorAt(m,l,e,a,b,c,d){return error(m,{line:l,from:e},a,b,c,d)}var z=(function z(){var e,from,line,s;function nextLine(){var a,tw;if(line>=lines.length)return false;e=1;s=lines[line];line+=1;if(option.smarttabs)a=s.search(/ \t/);else a=s.search(/ \t|\t /);if(a>=0)warningAt("Mixed spaces and tabs.",line,a+1);s=s.replace(/\t/g,tab);a=s.search(cx);if(a>=0)warningAt("Unsafe character.",line,a);if(option.maxlen&&option.maxlen<s.length)warningAt("Line too long.",line,s.length);tw=/\s+$/.test(s);if(option.trailing&&tw&&!/^\s+$/.test(s)){warningAt("Trailing whitespace.",line,tw)}return true}function it(a,b){var i,t;if(a==='(color)'||a==='(range)'){t={type:a}}else if(a==='(punctuator)'||(a==='(identifier)'&&is_own(syntax,b))){t=syntax[b]||syntax['(error)']}else{t=syntax[a]}t=Object.create(t);if(a==='(string)'||a==='(range)'){if(!option.scripturl&&jx.test(b)){warningAt("Script URL.",line,from)}}if(a==='(identifier)'){t.identifier=true;if(b==='__proto__'&&!option.proto){warningAt("The '{a}' property is deprecated.",line,from,b)}else if(b==='__iterator__'&&!option.iterator){warningAt("'{a}' is only available in JavaScript 1.7.",line,from,b)}else if(option.nomen&&(b.charAt(0)==='_'||b.charAt(b.length-1)==='_')){if(!option.node||token.id=='.'||(b!='__dirname'&&b!='__filename')){warningAt("Unexpected {a} in '{b}'.",line,from,"dangling '_'",b)}}}t.value=b;t.line=line;t.character=e;t.from=from;i=t.id;if(i!=='(endline)'){prereg=i&&(('(,=:[!&|?{};'.indexOf(i.charAt(i.length-1))>=0)||i==='return'||i==='case')}return t}return{init:function(a){if(typeof a==='string'){lines=a.replace(/\r\n/g,'\n').replace(/\r/g,'\n').split('\n')}else{lines=a}if(lines[0]&&lines[0].substr(0,2)=='#!')lines[0]='';line=0;nextLine();from=1},range:function(a,b){var c,value='';from=e;if(s.charAt(0)!==a){errorAt("Expected '{a}' and instead saw '{b}'.",line,e,a,s.charAt(0))}for(;;){s=s.slice(1);e+=1;c=s.charAt(0);switch(c){case'':errorAt("Missing '{a}'.",line,e,c);break;case b:s=s.slice(1);e+=1;return it('(range)',value);case'\\':warningAt("Unexpected '{a}'.",line,e,c)}value+=c}},token:function(){var b,c,captures,d,depth,high,i,l,low,q,t,isLiteral,isInRange;function match(x){var r=x.exec(s),r1;if(r){l=r[0].length;r1=r[1];c=r1.charAt(0);s=s.substr(l);from=e+l-r1.length;e+=l;return r1}}function string(x){var c,j,r='',allowNewLine=false;if(jsonmode&&x!=='"'){warningAt("Strings must use doublequote.",line,e)}function esc(n){var i=parseInt(s.substr(j+1,n),16);j+=n;if(i>=32&&i<=126&&i!==34&&i!==92&&i!==39){warningAt("Unnecessary escapement.",line,e)}e+=n;c=String.fromCharCode(i)}j=0;unclosedString:for(;;){while(j>=s.length){j=0;var a=line,cf=from;if(!nextLine()){errorAt("Unclosed string.",a,cf);break unclosedString}if(allowNewLine){allowNewLine=false}else{warningAt("Unclosed string.",a,cf)}}c=s.charAt(j);if(c===x){e+=1;s=s.substr(j+1);return it('(string)',r,x)}if(c<' '){if(c==='\n'||c==='\r'){break}warningAt("Control character in string: {a}.",line,e+j,s.slice(0,j))}else if(c==='\\'){j+=1;e+=1;c=s.charAt(j);switch(c){case'\\':case'"':case'/':break;case'\'':if(jsonmode){warningAt("Avoid \\'.",line,e)}break;case'b':c='\b';break;case'f':c='\f';break;case'n':c='\n';break;case'r':c='\r';break;case't':c='\t';break;case'u':esc(4);break;case'v':if(jsonmode){warningAt("Avoid \\v.",line,e)}c='\v';break;case'x':if(jsonmode){warningAt("Avoid \\x-.",line,e)}esc(2);break;case'':allowNewLine=true;if(option.multistr){if(jsonmode){warningAt("Avoid EOL escapement.",line,e)}c='';e-=1;break}warningAt("Bad escapement of EOL. Use option multistr if needed.",line,e);break;default:warningAt("Bad escapement.",line,e)}}r+=c;e+=1;j+=1}}for(;;){if(!s){return it(nextLine()?'(endline)':'(end)','')}t=match(tx);if(!t){t='';c='';while(s&&s<'!'){s=s.substr(1)}if(s){errorAt("Unexpected '{a}'.",line,e,s.substr(0,1));s=''}}else{if(c.isAlpha()||c==='_'||c==='$'){return it('(identifier)',t)}if(c.isDigit()){if(!isFinite(Number(t))){warningAt("Bad number '{a}'.",line,e,t)}if(s.substr(0,1).isAlpha()){warningAt("Missing space after '{a}'.",line,e,t)}if(c==='0'){d=t.substr(1,1);if(d.isDigit()){if(token.id!=='.'){warningAt("Don't use extra leading zeros '{a}'.",line,e,t)}}else if(jsonmode&&(d==='x'||d==='X')){warningAt("Avoid 0x-. '{a}'.",line,e,t)}}if(t.substr(t.length-1)==='.'){warningAt("A trailing decimal point can be confused with a dot '{a}'.",line,e,t)}return it('(number)',t)}switch(t){case'"':case"'":return string(t);case'//':s='';token.comment=true;break;case'/*':for(;;){i=s.search(lx);if(i>=0){break}if(!nextLine()){errorAt("Unclosed comment.",line,e)}}e+=i+2;if(s.substr(i,1)==='/'){errorAt("Nested comment.",line,e)}s=s.substr(i+2);token.comment=true;break;case'/*members':case'/*member':case'/*jshint':case'/*jslint':case'/*global':case'*/':return{value:t,type:'special',line:line,character:e,from:from};case'':break;case'/':if(token.id==='/='){errorAt("A regular expression literal can be confused with '/='.",line,from)}if(prereg){depth=0;captures=0;l=0;for(;;){b=true;c=s.charAt(l);l+=1;switch(c){case'':errorAt("Unclosed regular expression.",line,from);return quit('Stopping.',line,from);case'/':if(depth>0){warningAt("{a} unterminated regular expression "+"group(s).",line,from+l,depth)}c=s.substr(0,l-1);q={g:true,i:true,m:true};while(q[s.charAt(l)]===true){q[s.charAt(l)]=false;l+=1}e+=l;s=s.substr(l);q=s.charAt(0);if(q==='/'||q==='*'){errorAt("Confusing regular expression.",line,from)}return it('(regexp)',c);case'\\':c=s.charAt(l);if(c<' '){warningAt("Unexpected control character in regular expression.",line,from+l)}else if(c==='<'){warningAt("Unexpected escaped character '{a}' in regular expression.",line,from+l,c)}l+=1;break;case'(':depth+=1;b=false;if(s.charAt(l)==='?'){l+=1;switch(s.charAt(l)){case':':case'=':case'!':l+=1;break;default:warningAt("Expected '{a}' and instead saw '{b}'.",line,from+l,':',s.charAt(l))}}else{captures+=1}break;case'|':b=false;break;case')':if(depth===0){warningAt("Unescaped '{a}'.",line,from+l,')')}else{depth-=1}break;case' ':q=1;while(s.charAt(l)===' '){l+=1;q+=1}if(q>1){warningAt("Spaces are hard to count. Use {{a}}.",line,from+l,q)}break;case'[':c=s.charAt(l);if(c==='^'){l+=1;if(option.regexp){warningAt("Insecure '{a}'.",line,from+l,c)}else if(s.charAt(l)===']'){errorAt("Unescaped '{a}'.",line,from+l,'^')}}if(c===']'){warningAt("Empty class.",line,from+l-1)}isLiteral=false;isInRange=false;klass:do{c=s.charAt(l);l+=1;switch(c){case'[':case'^':warningAt("Unescaped '{a}'.",line,from+l,c);if(isInRange){isInRange=false}else{isLiteral=true}break;case'-':if(isLiteral&&!isInRange){isLiteral=false;isInRange=true}else if(isInRange){isInRange=false}else if(s.charAt(l)===']'){isInRange=true}else{if(option.regexdash!==(l===2||(l===3&&s.charAt(2)==='^'))){warningAt("Unescaped '{a}'.",line,from+l-1,'-')}isLiteral=true}break;case']':if(isInRange&&!option.regexdash){warningAt("Unescaped '{a}'.",line,from+l-1,'-')}break klass;case'\\':c=s.charAt(l);if(c<' '){warningAt("Unexpected control character in regular expression.",line,from+l)}else if(c==='<'){warningAt("Unexpected escaped character '{a}' in regular expression.",line,from+l,c)}l+=1;if(/[wsd]/i.test(c)){if(isInRange){warningAt("Unescaped '{a}'.",line,from+l,'-');isInRange=false}isLiteral=false}else if(isInRange){isInRange=false}else{isLiteral=true}break;case'/':warningAt("Unescaped '{a}'.",line,from+l-1,'/');if(isInRange){isInRange=false}else{isLiteral=true}break;case'<':if(isInRange){isInRange=false}else{isLiteral=true}break;default:if(isInRange){isInRange=false}else{isLiteral=true}}}while(c);break;case'.':if(option.regexp){warningAt("Insecure '{a}'.",line,from+l,c)}break;case']':case'?':case'{':case'}':case'+':case'*':warningAt("Unescaped '{a}'.",line,from+l,c)}if(b){switch(s.charAt(l)){case'?':case'+':case'*':l+=1;if(s.charAt(l)==='?'){l+=1}break;case'{':l+=1;c=s.charAt(l);if(c<'0'||c>'9'){warningAt("Expected a number and instead saw '{a}'.",line,from+l,c)}l+=1;low=+c;for(;;){c=s.charAt(l);if(c<'0'||c>'9'){break}l+=1;low=+c+(low*10)}high=low;if(c===','){l+=1;high=Infinity;c=s.charAt(l);if(c>='0'&&c<='9'){l+=1;high=+c;for(;;){c=s.charAt(l);if(c<'0'||c>'9'){break}l+=1;high=+c+(high*10)}}}if(s.charAt(l)!=='}'){warningAt("Expected '{a}' and instead saw '{b}'.",line,from+l,'}',c)}else{l+=1}if(s.charAt(l)==='?'){l+=1}if(low>high){warningAt("'{a}' should not be greater than '{b}'.",line,from+l,low,high)}}}}c=s.substr(0,l-1);e+=l;s=s.substr(l);return it('(regexp)',c)}return it('(punctuator)',t);case'#':return it('(punctuator)',t);default:return it('(punctuator)',t)}}}}}}());function addlabel(t,a){if(t==='hasOwnProperty'){warning("'hasOwnProperty' is a really bad name.")}if(is_own(funct,t)&&!funct['(global)']){if(funct[t]===true){if(option.latedef)warning("'{a}' was used before it was defined.",nexttoken,t)}else{if(!option.shadow&&a!=="exception")warning("'{a}' is already defined.",nexttoken,t)}}funct[t]=a;if(funct['(global)']){global[t]=funct;if(is_own(implied,t)){if(option.latedef)warning("'{a}' was used before it was defined.",nexttoken,t);delete implied[t]}}else{scope[t]=funct}}function doOption(){var b,obj,filter,o=nexttoken.value,t,v;switch(o){case'*/':error("Unbegun comment.");break;case'/*members':case'/*member':o='/*members';if(!membersOnly){membersOnly={}}obj=membersOnly;break;case'/*jshint':case'/*jslint':obj=option;filter=boolOptions;break;case'/*global':obj=predefined;break;default:error("What?")}t=z.token();loop:for(;;){for(;;){if(t.type==='special'&&t.value==='*/'){break loop}if(t.id!=='(endline)'&&t.id!==','){break}t=z.token()}if(t.type!=='(string)'&&t.type!=='(identifier)'&&o!=='/*members'){error("Bad option.",t)}v=z.token();if(v.id===':'){v=z.token();if(obj===membersOnly){error("Expected '{a}' and instead saw '{b}'.",t,'*/',':')}if(t.value==='indent'&&(o==='/*jshint'||o==='/*jslint')){b=+v.value;if(typeof b!=='number'||!isFinite(b)||b<=0||Math.floor(b)!==b){error("Expected a small integer and instead saw '{a}'.",v,v.value)}obj.white=true;obj.indent=b}else if(t.value==='maxerr'&&(o==='/*jshint'||o==='/*jslint')){b=+v.value;if(typeof b!=='number'||!isFinite(b)||b<=0||Math.floor(b)!==b){error("Expected a small integer and instead saw '{a}'.",v,v.value)}obj.maxerr=b}else if(t.value==='maxlen'&&(o==='/*jshint'||o==='/*jslint')){b=+v.value;if(typeof b!=='number'||!isFinite(b)||b<=0||Math.floor(b)!==b){error("Expected a small integer and instead saw '{a}'.",v,v.value)}obj.maxlen=b}else if(t.value=='validthis'){if(funct['(global)']){error("Option 'validthis' can't be used in a global scope.")}else{if(v.value==='true'||v.value==='false')obj[t.value]=v.value==='true';else error("Bad option value.",v)}}else if(v.value==='true'){obj[t.value]=true}else if(v.value==='false'){obj[t.value]=false}else{error("Bad option value.",v)}t=z.token()}else{if(o==='/*jshint'||o==='/*jslint'){error("Missing option value.",t)}obj[t.value]=false;t=v}}if(filter){assume()}}function peek(p){var i=p||0,j=0,t;while(j<=i){t=lookahead[j];if(!t){t=lookahead[j]=z.token()}j+=1}return t}function advance(a,t){switch(token.id){case'(number)':if(nexttoken.id==='.'){warning("A dot following a number can be confused with a decimal point.",token)}break;case'-':if(nexttoken.id==='-'||nexttoken.id==='--'){warning("Confusing minusses.")}break;case'+':if(nexttoken.id==='+'||nexttoken.id==='++'){warning("Confusing plusses.")}break}if(token.type==='(string)'||token.identifier){u=token.value}if(a&&nexttoken.id!==a){if(t){if(nexttoken.id==='(end)'){warning("Unmatched '{a}'.",t,t.id)}else{warning("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",nexttoken,a,t.id,t.line,nexttoken.value)}}else if(nexttoken.type!=='(identifier)'||nexttoken.value!==a){warning("Expected '{a}' and instead saw '{b}'.",nexttoken,a,nexttoken.value)}}prevtoken=token;token=nexttoken;for(;;){nexttoken=lookahead.shift()||z.token();if(nexttoken.id==='(end)'||nexttoken.id==='(error)'){return}if(nexttoken.type==='special'){doOption()}else{if(nexttoken.id!=='(endline)'){break}}}}function expression(a,b){var c,isArray=false;if(nexttoken.id==='(end)')error("Unexpected early end of program.",token);advance();if(b){u='anonymous';funct['(verb)']=token.value}if(b===true&&token.fud){c=token.fud()}else{if(token.nud){c=token.nud()}else{if(nexttoken.type==='(number)'&&token.id==='.'){warning("A leading decimal point can be confused with a dot: '.{a}'.",token,nexttoken.value);advance();return token}else{error("Expected an identifier and instead saw '{a}'.",token,token.id)}}while(a<nexttoken.lbp){isArray=token.value=='Array';advance();if(isArray&&token.id=='('&&nexttoken.id==')')warning("Use the array literal notation [].",token);if(token.led){c=token.led(c)}else{error("Expected an operator and instead saw '{a}'.",token,token.id)}}}return c}function adjacent(a,b){a=a||token;b=b||nexttoken;if(option.white){if(a.character!==b.from&&a.line===b.line){a.from+=(a.character-a.from);warning("Unexpected space after '{a}'.",a,a.value)}}}function nobreak(a,b){a=a||token;b=b||nexttoken;if(option.white&&(a.character!==b.from||a.line!==b.line)){warning("Unexpected space before '{a}'.",b,b.value)}}function nospace(a,b){a=a||token;b=b||nexttoken;if(option.white&&!a.comment){if(a.line===b.line){adjacent(a,b)}}}function nonadjacent(a,b){if(option.white){a=a||token;b=b||nexttoken;if(a.line===b.line&&a.character===b.from){a.from+=(a.character-a.from);warning("Missing space after '{a}'.",a,a.value)}}}function nobreaknonadjacent(a,b){a=a||token;b=b||nexttoken;if(!option.laxbreak&&a.line!==b.line){warning("Bad line breaking before '{a}'.",b,b.id)}else if(option.white){a=a||token;b=b||nexttoken;if(a.character===b.from){a.from+=(a.character-a.from);warning("Missing space after '{a}'.",a,a.value)}}}function indentation(a){var i;if(option.white&&nexttoken.id!=='(end)'){i=indent+(a||0);if(nexttoken.from!==i){warning("Expected '{a}' to have an indentation at {b} instead at {c}.",nexttoken,nexttoken.value,i,nexttoken.from)}}}function nolinebreak(t){t=t||token;if(t.line!==nexttoken.line){warning("Line breaking error '{a}'.",t,t.value)}}function comma(){if(token.line!==nexttoken.line){if(!option.laxbreak){warning("Bad line breaking before '{a}'.",token,nexttoken.id)}}else if(!token.comment&&token.character!==nexttoken.from&&option.white){token.from+=(token.character-token.from);warning("Unexpected space after '{a}'.",token,token.value)}advance(',');nonadjacent(token,nexttoken)}function symbol(s,p){var x=syntax[s];if(!x||typeof x!=='object'){syntax[s]=x={id:s,lbp:p,value:s}}return x}function delim(s){return symbol(s,0)}function stmt(s,f){var x=delim(s);x.identifier=x.reserved=true;x.fud=f;return x}function blockstmt(s,f){var x=stmt(s,f);x.block=true;return x}function reserveName(x){var c=x.id.charAt(0);if((c>='a'&&c<='z')||(c>='A'&&c<='Z')){x.identifier=x.reserved=true}return x}function prefix(s,f){var x=symbol(s,150);reserveName(x);x.nud=(typeof f==='function')?f:function(){this.right=expression(150);this.arity='unary';if(this.id==='++'||this.id==='--'){if(option.plusplus){warning("Unexpected use of '{a}'.",this,this.id)}else if((!this.right.identifier||this.right.reserved)&&this.right.id!=='.'&&this.right.id!=='['){warning("Bad operand.",this)}}return this};return x}function type(s,f){var x=delim(s);x.type=s;x.nud=f;return x}function reserve(s,f){var x=type(s,f);x.identifier=x.reserved=true;return x}function reservevar(s,v){return reserve(s,function(){if(typeof v==='function'){v(this)}return this})}function infix(s,f,p,w){var x=symbol(s,p);reserveName(x);x.led=function(a){if(!w){nobreaknonadjacent(prevtoken,token);nonadjacent(token,nexttoken)}if(s==="in"&&a.id==="!"){warning("Confusing use of '{a}'.",a,'!')}if(typeof f==='function'){return f(a,this)}else{this.left=a;this.right=expression(p);return this}};return x}function relation(s,f){var x=symbol(s,100);x.led=function(a){nobreaknonadjacent(prevtoken,token);nonadjacent(token,nexttoken);var b=expression(100);if((a&&a.id==='NaN')||(b&&b.id==='NaN')){warning("Use the isNaN function to compare with NaN.",this)}else if(f){f.apply(this,[a,b])}if(a.id==='!'){warning("Confusing use of '{a}'.",a,'!')}if(b.id==='!'){warning("Confusing use of '{a}'.",b,'!')}this.left=a;this.right=b;return this};return x}function isPoorRelation(a){return a&&((a.type==='(number)'&&+a.value===0)||(a.type==='(string)'&&a.value==='')||(a.type==='null'&&!option.eqnull)||a.type==='true'||a.type==='false'||a.type==='undefined')}function assignop(s,f){symbol(s,20).exps=true;return infix(s,function(a,b){var l;b.left=a;if(predefined[a.value]===false&&scope[a.value]['(global)']===true){warning("Read only.",a)}else if(a['function']){warning("'{a}' is a function.",a,a.value)}if(a){if(option.esnext&&funct[a.value]==='const'){warning("Attempting to override '{a}' which is a constant",a,a.value)}if(a.id==='.'||a.id==='['){if(!a.left||a.left.value==='arguments'){warning('Bad assignment.',b)}b.right=expression(19);return b}else if(a.identifier&&!a.reserved){if(funct[a.value]==='exception'){warning("Do not assign to the exception parameter.",a)}b.right=expression(19);return b}if(a===syntax['function']){warning("Expected an identifier in an assignment and instead saw a function invocation.",token)}}error("Bad assignment.",b)},20)}function bitwise(s,f,p){var x=symbol(s,p);reserveName(x);x.led=(typeof f==='function')?f:function(a){if(option.bitwise){warning("Unexpected use of '{a}'.",this,this.id)}this.left=a;this.right=expression(p);return this};return x}function bitwiseassignop(s){symbol(s,20).exps=true;return infix(s,function(a,b){if(option.bitwise){warning("Unexpected use of '{a}'.",b,b.id)}nonadjacent(prevtoken,token);nonadjacent(token,nexttoken);if(a){if(a.id==='.'||a.id==='['||(a.identifier&&!a.reserved)){expression(19);return b}if(a===syntax['function']){warning("Expected an identifier in an assignment, and instead saw a function invocation.",token)}return b}error("Bad assignment.",b)},20)}function suffix(s,f){var x=symbol(s,150);x.led=function(a){if(option.plusplus){warning("Unexpected use of '{a}'.",this,this.id)}else if((!a.identifier||a.reserved)&&a.id!=='.'&&a.id!=='['){warning("Bad operand.",this)}this.left=a;return this};return x}function optionalidentifier(a){if(nexttoken.identifier){advance();if(token.reserved&&!option.es5){if(!a||token.value!='undefined'){warning("Expected an identifier and instead saw '{a}' (a reserved word).",token,token.id)}}return token.value}}function identifier(a){var i=optionalidentifier(a);if(i){return i}if(token.id==='function'&&nexttoken.id==='('){warning("Missing name in function declaration.")}else{error("Expected an identifier and instead saw '{a}'.",nexttoken,nexttoken.value)}}function reachable(s){var i=0,t;if(nexttoken.id!==';'||noreach){return}for(;;){t=peek(i);if(t.reach){return}if(t.id!=='(endline)'){if(t.id==='function'){warning("Inner functions should be listed at the top of the outer function.",t);break}warning("Unreachable '{a}' after '{b}'.",t,t.value,s);break}i+=1}}function statement(a){var i=indent,r,s=scope,t=nexttoken;if(t.id===';'){warning("Unnecessary semicolon.",t);advance(';');return}if(t.identifier&&!t.reserved&&peek().id===':'){advance();advance(':');scope=Object.create(s);addlabel(t.value,'label');if(!nexttoken.labelled){warning("Label '{a}' on {b} statement.",nexttoken,t.value,nexttoken.value)}if(jx.test(t.value+':')){warning("Label '{a}' looks like a javascript url.",t,t.value)}nexttoken.label=t.value;t=nexttoken}if(!a){indentation()}r=expression(0,true);if(!t.block){if(!option.expr&&(!r||!r.exps)){warning("Expected an assignment or function call and instead saw an expression.",token)}else if(option.nonew&&r.id==='('&&r.left.id==='new'){warning("Do not use 'new' for side effects.")}if(nexttoken.id!==';'){if(!option.asi){if(!option.lastsemic||nexttoken.id!='}'||nexttoken.line!=token.line){warningAt("Missing semicolon.",token.line,token.character)}}}else{adjacent(token,nexttoken);advance(';');nonadjacent(token,nexttoken)}}indent=i;scope=s;return r}function statements(b){var a=[],f,p;while(!nexttoken.reach&&nexttoken.id!=='(end)'){if(nexttoken.id===';'){warning("Unnecessary semicolon.");advance(';')}else{a.push(statement(b===nexttoken.line))}}return a}function directives(){var i,p,pn;for(;;){if(nexttoken.id==="(string)"){p=peek(0);if(p.id==="(endline)"){i=1;do{pn=peek(i);i=i+1}while(pn.id==="(endline)");if(pn.id!==";"){if(pn.id!=="(string)"&&pn.id!=="(number)"&&pn.id!=="(regexp)"&&pn.identifier!==true&&pn.id!=="}"){break}warning("Missing semicolon.",nexttoken)}else{p=pn}}else if(p.id==="}"){warning("Missing semicolon.",p)}else if(p.id!==";"){break}indentation();advance();if(directive[token.value]){warning("Unnecessary directive \"{a}\".",token,token.value)}if(token.value==="use strict"){option.newcap=true;option.undef=true}directive[token.value]=true;if(p.id===";"){advance(";")}continue}break}}function block(c,e,f){var a,b=inblock,old_indent=indent,m,s=scope,t,line,d;inblock=c;if(!c||!option.funcscope)scope=Object.create(scope);nonadjacent(token,nexttoken);t=nexttoken;if(nexttoken.id==='{'){advance('{');line=token.line;if(nexttoken.id!=='}'){indent+=option.indent;while(!c&&nexttoken.from>indent){indent+=option.indent}if(f){m={};for(d in directive){if(is_own(directive,d)){m[d]=directive[d]}}directives();if(option.strict&&funct['(context)']['(global)']){if(!m["use strict"]&&!directive["use strict"]){warning("Missing \"use strict\" statement.")}}}a=statements(line);if(f){directive=m}indent-=option.indent;if(line!==nexttoken.line){indentation()}}else if(line!==nexttoken.line){indentation()}advance('}',t);indent=old_indent}else if(!c){error("Expected '{a}' and instead saw '{b}'.",nexttoken,'{',nexttoken.value)}else{if(!e||option.curly)warning("Expected '{a}' and instead saw '{b}'.",nexttoken,'{',nexttoken.value);noreach=true;indent+=option.indent;a=[statement(nexttoken.line===token.line)];indent-=option.indent;noreach=false}funct['(verb)']=null;if(!c||!option.funcscope)scope=s;inblock=b;if(c&&option.noempty&&(!a||a.length===0)){warning("Empty block.")}return a}function countMember(m){if(membersOnly&&typeof membersOnly[m]!=='boolean'){warning("Unexpected /*member '{a}'.",token,m)}if(typeof member[m]==='number'){member[m]+=1}else{member[m]=1}}function note_implied(b){var c=b.value,line=b.line,a=implied[c];if(typeof a==='function'){a=false}if(!a){a=[line];implied[c]=a}else if(a[a.length-1]!==line){a.push(line)}}type('(number)',function(){return this});type('(string)',function(){return this});syntax['(identifier)']={type:'(identifier)',lbp:0,identifier:true,nud:function(){var v=this.value,s=scope[v],f;if(typeof s==='function'){s=undefined}else if(typeof s==='boolean'){f=funct;funct=functions[0];addlabel(v,'var');s=funct;funct=f}if(funct===s){switch(funct[v]){case'unused':funct[v]='var';break;case'unction':funct[v]='function';this['function']=true;break;case'function':this['function']=true;break;case'label':warning("'{a}' is a statement label.",token,v);break}}else if(funct['(global)']){if(u!='typeof'&&u!='delete'&&option.undef&&typeof predefined[v]!=='boolean'){isundef(funct,"'{a}' is not defined.",token,v)}note_implied(token)}else{switch(funct[v]){case'closure':case'function':case'var':case'unused':warning("'{a}' used out of scope.",token,v);break;case'label':warning("'{a}' is a statement label.",token,v);break;case'outer':case'global':break;default:if(s===true){funct[v]=true}else if(s===null){warning("'{a}' is not allowed.",token,v);note_implied(token)}else if(typeof s!=='object'){if(u!='typeof'&&u!='delete'&&option.undef){isundef(funct,"'{a}' is not defined.",token,v)}funct[v]=true;note_implied(token)}else{switch(s[v]){case'function':case'unction':this['function']=true;s[v]='closure';funct[v]=s['(global)']?'global':'outer';break;case'var':case'unused':s[v]='closure';funct[v]=s['(global)']?'global':'outer';break;case'closure':case'parameter':funct[v]=s['(global)']?'global':'outer';break;case'label':warning("'{a}' is a statement label.",token,v)}}}}return this},led:function(){error("Expected an operator and instead saw '{a}'.",nexttoken,nexttoken.value)}};type('(regexp)',function(){return this});delim('(endline)');delim('(begin)');delim('(end)').reach=true;delim('</').reach=true;delim('<!');delim('<!--');delim('-->');delim('(error)').reach=true;delim('}').reach=true;delim(')');delim(']');delim('"').reach=true;delim("'").reach=true;delim(';');delim(':').reach=true;delim(',');delim('#');delim('@');reserve('else');reserve('case').reach=true;reserve('catch');reserve('default').reach=true;reserve('finally');reservevar('arguments',function(x){if(directive['use strict']&&funct['(global)']){warning("Strict violation.",x)}});reservevar('eval');reservevar('false');reservevar('Infinity');reservevar('NaN');reservevar('null');reservevar('this',function(x){if(directive['use strict']&&!option.validthis&&((funct['(statement)']&&funct['(name)'].charAt(0)>'Z')||funct['(global)'])){warning("Possible strict violation.",x)}});reservevar('true');reservevar('undefined');assignop('=','assign',20);assignop('+=','assignadd',20);assignop('-=','assignsub',20);assignop('*=','assignmult',20);assignop('/=','assigndiv',20).nud=function(){error("A regular expression literal can be confused with '/='.")};assignop('%=','assignmod',20);bitwiseassignop('&=','assignbitand',20);bitwiseassignop('|=','assignbitor',20);bitwiseassignop('^=','assignbitxor',20);bitwiseassignop('<<=','assignshiftleft',20);bitwiseassignop('>>=','assignshiftright',20);bitwiseassignop('>>>=','assignshiftrightunsigned',20);infix('?',function(a,b){b.left=a;b.right=expression(10);advance(':');b['else']=expression(10);return b},30);infix('||','or',40);infix('&&','and',50);bitwise('|','bitor',70);bitwise('^','bitxor',80);bitwise('&','bitand',90);relation('==',function(a,b){var c=option.eqnull&&(a.value=='null'||b.value=='null');if(!c&&option.eqeqeq)warning("Expected '{a}' and instead saw '{b}'.",this,'===','==');else if(isPoorRelation(a))warning("Use '{a}' to compare with '{b}'.",this,'===',a.value);else if(isPoorRelation(b))warning("Use '{a}' to compare with '{b}'.",this,'===',b.value);return this});relation('===');relation('!=',function(a,b){var c=option.eqnull&&(a.value=='null'||b.value=='null');if(!c&&option.eqeqeq){warning("Expected '{a}' and instead saw '{b}'.",this,'!==','!=')}else if(isPoorRelation(a)){warning("Use '{a}' to compare with '{b}'.",this,'!==',a.value)}else if(isPoorRelation(b)){warning("Use '{a}' to compare with '{b}'.",this,'!==',b.value)}return this});relation('!==');relation('<');relation('>');relation('<=');relation('>=');bitwise('<<','shiftleft',120);bitwise('>>','shiftright',120);bitwise('>>>','shiftrightunsigned',120);infix('in','in',120);infix('instanceof','instanceof',120);infix('+',function(a,b){var c=expression(130);if(a&&c&&a.id==='(string)'&&c.id==='(string)'){a.value+=c.value;a.character=c.character;if(!option.scripturl&&jx.test(a.value)){warning("JavaScript URL.",a)}return a}b.left=a;b.right=c;return b},130);prefix('+','num');prefix('+++',function(){warning("Confusing pluses.");this.right=expression(150);this.arity='unary';return this});infix('+++',function(a){warning("Confusing pluses.");this.left=a;this.right=expression(130);return this},130);infix('-','sub',130);prefix('-','neg');prefix('---',function(){warning("Confusing minuses.");this.right=expression(150);this.arity='unary';return this});infix('---',function(a){warning("Confusing minuses.");this.left=a;this.right=expression(130);return this},130);infix('*','mult',140);infix('/','div',140);infix('%','mod',140);suffix('++','postinc');prefix('++','preinc');syntax['++'].exps=true;suffix('--','postdec');prefix('--','predec');syntax['--'].exps=true;prefix('delete',function(){var p=expression(0);if(!p||(p.id!=='.'&&p.id!=='[')){warning("Variables should not be deleted.")}this.first=p;return this}).exps=true;prefix('~',function(){if(option.bitwise){warning("Unexpected '{a}'.",this,'~')}expression(150);return this});prefix('!',function(){this.right=expression(150);this.arity='unary';if(bang[this.right.id]===true){warning("Confusing use of '{a}'.",this,'!')}return this});prefix('typeof','typeof');prefix('new',function(){var c=expression(155),i;if(c&&c.id!=='function'){if(c.identifier){c['new']=true;switch(c.value){case'Object':warning("Use the object literal notation {}.",token);break;case'Number':case'String':case'Boolean':case'Math':case'JSON':warning("Do not use {a} as a constructor.",token,c.value);break;case'Function':if(!option.evil){warning("The Function constructor is eval.")}break;case'Date':case'RegExp':break;default:if(c.id!=='function'){i=c.value.substr(0,1);if(option.newcap&&(i<'A'||i>'Z')){warning("A constructor name should start with an uppercase letter.",token)}}}}else{if(c.id!=='.'&&c.id!=='['&&c.id!=='('){warning("Bad constructor.",token)}}}else{if(!option.supernew)warning("Weird construction. Delete 'new'.",this)}adjacent(token,nexttoken);if(nexttoken.id!=='('&&!option.supernew){warning("Missing '()' invoking a constructor.")}this.first=c;return this});syntax['new'].exps=true;prefix('void').exps=true;infix('.',function(a,b){adjacent(prevtoken,token);nobreak();var m=identifier();if(typeof m==='string'){countMember(m)}b.left=a;b.right=m;if(a&&a.value==='arguments'&&(m==='callee'||m==='caller')){if(option.noarg)warning("Avoid arguments.{a}.",a,m);else if(directive['use strict'])error('Strict violation.')}else if(!option.evil&&a&&a.value==='document'&&(m==='write'||m==='writeln')){warning("document.write can be a form of eval.",a)}if(!option.evil&&(m==='eval'||m==='execScript')){warning('eval is evil.')}return b},160,true);infix('(',function(a,b){if(prevtoken.id!=='}'&&prevtoken.id!==')'){nobreak(prevtoken,token)}nospace();if(option.immed&&!a.immed&&a.id==='function'){warning("Wrap an immediate function invocation in parentheses "+"to assist the reader in understanding that the expression "+"is the result of a function, and not the function itself.")}var n=0,p=[];if(a){if(a.type==='(identifier)'){if(a.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(a.value!=='Number'&&a.value!=='String'&&a.value!=='Boolean'&&a.value!=='Date'){if(a.value==='Math'){warning("Math is not a function.",a)}else if(option.newcap){warning("Missing 'new' prefix when invoking a constructor.",a)}}}}}if(nexttoken.id!==')'){for(;;){p[p.length]=expression(10);n+=1;if(nexttoken.id!==','){break}comma()}}advance(')');nospace(prevtoken,token);if(typeof a==='object'){if(a.value==='parseInt'&&n===1){warning("Missing radix parameter.",a)}if(!option.evil){if(a.value==='eval'||a.value==='Function'||a.value==='execScript'){warning("eval is evil.",a)}else if(p[0]&&p[0].id==='(string)'&&(a.value==='setTimeout'||a.value==='setInterval')){warning("Implied eval is evil. Pass a function instead of a string.",a)}}if(!a.identifier&&a.id!=='.'&&a.id!=='['&&a.id!=='('&&a.id!=='&&'&&a.id!=='||'&&a.id!=='?'){warning("Bad invocation.",a)}}b.left=a;return b},155,true).exps=true;prefix('(',function(){nospace();if(nexttoken.id==='function'){nexttoken.immed=true}var v=expression(0);advance(')',this);nospace(prevtoken,token);if(option.immed&&v.id==='function'){if(nexttoken.id==='('){warning("Move the invocation into the parens that contain the function.",nexttoken)}else{warning("Do not wrap function literals in parens unless they are to be immediately invoked.",this)}}return v});infix('[',function(a,b){nobreak(prevtoken,token);nospace();var e=expression(0),s;if(e&&e.type==='(string)'){if(!option.evil&&(e.value==='eval'||e.value==='execScript')){warning("eval is evil.",b)}countMember(e.value);if(!option.sub&&ix.test(e.value)){s=syntax[e.value];if(!s||!s.reserved){warning("['{a}'] is better written in dot notation.",e,e.value)}}}advance(']',b);nospace(prevtoken,token);b.left=a;b.right=e;return b},160,true);prefix('[',function(){var b=token.line!==nexttoken.line;this.first=[];if(b){indent+=option.indent;if(nexttoken.from===indent+option.indent){indent+=option.indent}}while(nexttoken.id!=='(end)'){while(nexttoken.id===','){warning("Extra comma.");advance(',')}if(nexttoken.id===']'){break}if(b&&token.line!==nexttoken.line){indentation()}this.first.push(expression(10));if(nexttoken.id===','){comma();if(nexttoken.id===']'&&!option.es5){warning("Extra comma.",token);break}}else{break}}if(b){indent-=option.indent;indentation()}advance(']',this);return this},160);function property_name(){var a=optionalidentifier(true);if(!a){if(nexttoken.id==='(string)'){a=nexttoken.value;advance()}else if(nexttoken.id==='(number)'){a=nexttoken.value.toString();advance()}}return a}function functionparams(){var i,t=nexttoken,p=[];advance('(');nospace();if(nexttoken.id===')'){advance(')');return}for(;;){i=identifier(true);p.push(i);addlabel(i,'parameter');if(nexttoken.id===','){comma()}else{advance(')',t);nospace(prevtoken,token);return p}}}function doFunction(i,a){var f,oldOption=option,oldScope=scope;option=Object.create(option);scope=Object.create(scope);funct={'(name)':i||'"'+u+'"','(line)':nexttoken.line,'(context)':funct,'(breakage)':0,'(loopage)':0,'(scope)':scope,'(statement)':a};f=funct;token.funct=funct;functions.push(funct);if(i){addlabel(i,'function')}funct['(params)']=functionparams();block(false,false,true);scope=oldScope;option=oldOption;funct['(last)']=token.line;funct=funct['(context)'];return f}(function(x){x.nud=function(){var b,f,i,j,p,seen={},t;b=token.line!==nexttoken.line;if(b){indent+=option.indent;if(nexttoken.from===indent+option.indent){indent+=option.indent}}for(;;){if(nexttoken.id==='}'){break}if(b){indentation()}if(nexttoken.value==='get'&&peek().id!==':'){advance('get');if(!option.es5){error("get/set are ES5 features.")}i=property_name();if(!i){error("Missing property name.")}t=nexttoken;adjacent(token,nexttoken);f=doFunction();if(!option.loopfunc&&funct['(loopage)']){warning("Don't make functions within a loop.",t)}p=f['(params)'];if(p){warning("Unexpected parameter '{a}' in get {b} function.",t,p[0],i)}adjacent(token,nexttoken);advance(',');indentation();advance('set');j=property_name();if(i!==j){error("Expected {a} and instead saw {b}.",token,i,j)}t=nexttoken;adjacent(token,nexttoken);f=doFunction();p=f['(params)'];if(!p||p.length!==1||p[0]!=='value'){warning("Expected (value) in set {a} function.",t,i)}}else{i=property_name();if(typeof i!=='string'){break}advance(':');nonadjacent(token,nexttoken);expression(10)}if(seen[i]===true){warning("Duplicate member '{a}'.",nexttoken,i)}seen[i]=true;countMember(i);if(nexttoken.id===','){comma();if(nexttoken.id===','){warning("Extra comma.",token)}else if(nexttoken.id==='}'&&!option.es5){warning("Extra comma.",token)}}else{break}}if(b){indent-=option.indent;indentation()}advance('}',this);return this};x.fud=function(){error("Expected to see a statement and instead saw a block.",token)}}(delim('{')));useESNextSyntax=function(){var c=stmt('const',function(a){var b,name,value;this.first=[];for(;;){nonadjacent(token,nexttoken);b=identifier();if(funct[b]==="const"){warning("const '"+b+"' has already been declared")}if(funct['(global)']&&predefined[b]===false){warning("Redefinition of '{a}'.",token,b)}addlabel(b,'const');if(a){break}name=token;this.first.push(token);if(nexttoken.id!=="="){warning("const "+"'{a}' is initialized to 'undefined'.",token,b)}if(nexttoken.id==='='){nonadjacent(token,nexttoken);advance('=');nonadjacent(token,nexttoken);if(nexttoken.id==='undefined'){warning("It is not necessary to initialize "+"'{a}' to 'undefined'.",token,b)}if(peek(0).id==='='&&nexttoken.identifier){error("Constant {a} was not declared correctly.",nexttoken,nexttoken.value)}value=expression(0);name.first=value}if(nexttoken.id!==','){break}comma()}return this});c.exps=true};var A=stmt('var',function(a){var b,name,value;if(funct['(onevar)']&&option.onevar){warning("Too many var statements.")}else if(!funct['(global)']){funct['(onevar)']=true}this.first=[];for(;;){nonadjacent(token,nexttoken);b=identifier();if(option.esnext&&funct[b]==="const"){warning("const '"+b+"' has already been declared")}if(funct['(global)']&&predefined[b]===false){warning("Redefinition of '{a}'.",token,b)}addlabel(b,'unused');if(a){break}name=token;this.first.push(token);if(nexttoken.id==='='){nonadjacent(token,nexttoken);advance('=');nonadjacent(token,nexttoken);if(nexttoken.id==='undefined'){warning("It is not necessary to initialize '{a}' to 'undefined'.",token,b)}if(peek(0).id==='='&&nexttoken.identifier){error("Variable {a} was not declared correctly.",nexttoken,nexttoken.value)}value=expression(0);name.first=value}if(nexttoken.id!==','){break}comma()}return this});A.exps=true;blockstmt('function',function(){if(inblock){warning("Function declarations should not be placed in blocks. "+"Use a function expression or move the statement to the top of "+"the outer function.",token)}var i=identifier();if(option.esnext&&funct[i]==="const"){warning("const '"+i+"' has already been declared")}adjacent(token,nexttoken);addlabel(i,'unction');doFunction(i,true);if(nexttoken.id==='('&&nexttoken.line===token.line){error("Function declarations are not invocable. Wrap the whole function invocation in parens.")}return this});prefix('function',function(){var i=optionalidentifier();if(i){adjacent(token,nexttoken)}else{nonadjacent(token,nexttoken)}doFunction(i);if(!option.loopfunc&&funct['(loopage)']){warning("Don't make functions within a loop.")}return this});blockstmt('if',function(){var t=nexttoken;advance('(');nonadjacent(this,t);nospace();expression(20);if(nexttoken.id==='='){if(!option.boss)warning("Expected a conditional expression and instead saw an assignment.");advance('=');expression(20)}advance(')',t);nospace(prevtoken,token);block(true,true);if(nexttoken.id==='else'){nonadjacent(token,nexttoken);advance('else');if(nexttoken.id==='if'||nexttoken.id==='switch'){statement(true)}else{block(true,true)}}return this});blockstmt('try',function(){var b,e,s;block(false);if(nexttoken.id==='catch'){advance('catch');nonadjacent(token,nexttoken);advance('(');s=scope;scope=Object.create(s);e=nexttoken.value;if(nexttoken.type!=='(identifier)'){warning("Expected an identifier and instead saw '{a}'.",nexttoken,e)}else{addlabel(e,'exception')}advance();advance(')');block(false);b=true;scope=s}if(nexttoken.id==='finally'){advance('finally');block(false);return}else if(!b){error("Expected '{a}' and instead saw '{b}'.",nexttoken,'catch',nexttoken.value)}return this});blockstmt('while',function(){var t=nexttoken;funct['(breakage)']+=1;funct['(loopage)']+=1;advance('(');nonadjacent(this,t);nospace();expression(20);if(nexttoken.id==='='){if(!option.boss)warning("Expected a conditional expression and instead saw an assignment.");advance('=');expression(20)}advance(')',t);nospace(prevtoken,token);block(true,true);funct['(breakage)']-=1;funct['(loopage)']-=1;return this}).labelled=true;reserve('with');blockstmt('switch',function(){var t=nexttoken,g=false;funct['(breakage)']+=1;advance('(');nonadjacent(this,t);nospace();this.condition=expression(20);advance(')',t);nospace(prevtoken,token);nonadjacent(token,nexttoken);t=nexttoken;advance('{');nonadjacent(token,nexttoken);indent+=option.indent;this.cases=[];for(;;){switch(nexttoken.id){case'case':switch(funct['(verb)']){case'break':case'case':case'continue':case'return':case'switch':case'throw':break;default:if(!ft.test(lines[nexttoken.line-2])){warning("Expected a 'break' statement before 'case'.",token)}}indentation(-option.indent);advance('case');this.cases.push(expression(20));g=true;advance(':');funct['(verb)']='case';break;case'default':switch(funct['(verb)']){case'break':case'continue':case'return':case'throw':break;default:if(!ft.test(lines[nexttoken.line-2])){warning("Expected a 'break' statement before 'default'.",token)}}indentation(-option.indent);advance('default');g=true;advance(':');break;case'}':indent-=option.indent;indentation();advance('}',t);if(this.cases.length===1||this.condition.id==='true'||this.condition.id==='false'){if(!option.onecase)warning("This 'switch' should be an 'if'.",this)}funct['(breakage)']-=1;funct['(verb)']=undefined;return;case'(end)':error("Missing '{a}'.",nexttoken,'}');return;default:if(g){switch(token.id){case',':error("Each value should have its own case label.");return;case':':g=false;statements();break;default:error("Missing ':' on a case clause.",token);return}}else{if(token.id===':'){advance(':');error("Unexpected '{a}'.",token,':');statements()}else{error("Expected '{a}' and instead saw '{b}'.",nexttoken,'case',nexttoken.value);return}}}}}).labelled=true;stmt('debugger',function(){if(!option.debug){warning("All 'debugger' statements should be removed.")}return this}).exps=true;(function(){var x=stmt('do',function(){funct['(breakage)']+=1;funct['(loopage)']+=1;this.first=block(true);advance('while');var t=nexttoken;nonadjacent(token,t);advance('(');nospace();expression(20);if(nexttoken.id==='='){if(!option.boss)warning("Expected a conditional expression and instead saw an assignment.");advance('=');expression(20)}advance(')',t);nospace(prevtoken,token);funct['(breakage)']-=1;funct['(loopage)']-=1;return this});x.labelled=true;x.exps=true}());blockstmt('for',function(){var s,t=nexttoken;funct['(breakage)']+=1;funct['(loopage)']+=1;advance('(');nonadjacent(this,t);nospace();if(peek(nexttoken.id==='var'?1:0).id==='in'){if(nexttoken.id==='var'){advance('var');A.fud.call(A,true)}else{switch(funct[nexttoken.value]){case'unused':funct[nexttoken.value]='var';break;case'var':break;default:warning("Bad for in variable '{a}'.",nexttoken,nexttoken.value)}advance()}advance('in');expression(20);advance(')',t);s=block(true,true);if(option.forin&&s&&(s.length>1||typeof s[0]!=='object'||s[0].value!=='if')){warning("The body of a for in should be wrapped in an if statement to filter "+"unwanted properties from the prototype.",this)}funct['(breakage)']-=1;funct['(loopage)']-=1;return this}else{if(nexttoken.id!==';'){if(nexttoken.id==='var'){advance('var');A.fud.call(A)}else{for(;;){expression(0,'for');if(nexttoken.id!==','){break}comma()}}}nolinebreak(token);advance(';');if(nexttoken.id!==';'){expression(20);if(nexttoken.id==='='){if(!option.boss)warning("Expected a conditional expression and instead saw an assignment.");advance('=');expression(20)}}nolinebreak(token);advance(';');if(nexttoken.id===';'){error("Expected '{a}' and instead saw '{b}'.",nexttoken,')',';')}if(nexttoken.id!==')'){for(;;){expression(0,'for');if(nexttoken.id!==','){break}comma()}}advance(')',t);nospace(prevtoken,token);block(true,true);funct['(breakage)']-=1;funct['(loopage)']-=1;return this}}).labelled=true;stmt('break',function(){var v=nexttoken.value;if(funct['(breakage)']===0)warning("Unexpected '{a}'.",nexttoken,this.value);if(!option.asi)nolinebreak(this);if(nexttoken.id!==';'){if(token.line===nexttoken.line){if(funct[v]!=='label'){warning("'{a}' is not a statement label.",nexttoken,v)}else if(scope[v]!==funct){warning("'{a}' is out of scope.",nexttoken,v)}this.first=nexttoken;advance()}}reachable('break');return this}).exps=true;stmt('continue',function(){var v=nexttoken.value;if(funct['(breakage)']===0)warning("Unexpected '{a}'.",nexttoken,this.value);if(!option.asi)nolinebreak(this);if(nexttoken.id!==';'){if(token.line===nexttoken.line){if(funct[v]!=='label'){warning("'{a}' is not a statement label.",nexttoken,v)}else if(scope[v]!==funct){warning("'{a}' is out of scope.",nexttoken,v)}this.first=nexttoken;advance()}}else if(!funct['(loopage)']){warning("Unexpected '{a}'.",nexttoken,this.value)}reachable('continue');return this}).exps=true;stmt('return',function(){if(this.line===nexttoken.line){if(nexttoken.id==='(regexp)')warning("Wrap the /regexp/ literal in parens to disambiguate the slash operator.");if(nexttoken.id!==';'&&!nexttoken.reach){nonadjacent(token,nexttoken);if(peek().value==="="&&!option.boss){warningAt("Did you mean to return a conditional instead of an assignment?",token.line,token.character+1)}this.first=expression(0)}}else if(!option.asi){nolinebreak(this)}reachable('return');return this}).exps=true;stmt('throw',function(){nolinebreak(this);nonadjacent(token,nexttoken);this.first=expression(20);reachable('throw');return this}).exps=true;reserve('class');reserve('const');reserve('enum');reserve('export');reserve('extends');reserve('import');reserve('super');reserve('let');reserve('yield');reserve('implements');reserve('interface');reserve('package');reserve('private');reserve('protected');reserve('public');reserve('static');function jsonValue(){function jsonObject(){var o={},t=nexttoken;advance('{');if(nexttoken.id!=='}'){for(;;){if(nexttoken.id==='(end)'){error("Missing '}' to match '{' from line {a}.",nexttoken,t.line)}else if(nexttoken.id==='}'){warning("Unexpected comma.",token);break}else if(nexttoken.id===','){error("Unexpected comma.",nexttoken)}else if(nexttoken.id!=='(string)'){warning("Expected a string and instead saw {a}.",nexttoken,nexttoken.value)}if(o[nexttoken.value]===true){warning("Duplicate key '{a}'.",nexttoken,nexttoken.value)}else if((nexttoken.value==='__proto__'&&!option.proto)||(nexttoken.value==='__iterator__'&&!option.iterator)){warning("The '{a}' key may produce unexpected results.",nexttoken,nexttoken.value)}else{o[nexttoken.value]=true}advance();advance(':');jsonValue();if(nexttoken.id!==','){break}advance(',')}}advance('}')}function jsonArray(){var t=nexttoken;advance('[');if(nexttoken.id!==']'){for(;;){if(nexttoken.id==='(end)'){error("Missing ']' to match '[' from line {a}.",nexttoken,t.line)}else if(nexttoken.id===']'){warning("Unexpected comma.",token);break}else if(nexttoken.id===','){error("Unexpected comma.",nexttoken)}jsonValue();if(nexttoken.id!==','){break}advance(',')}}advance(']')}switch(nexttoken.id){case'{':jsonObject();break;case'[':jsonArray();break;case'true':case'false':case'null':case'(number)':case'(string)':advance();break;case'-':advance('-');if(token.character!==nexttoken.from){warning("Unexpected space after '-'.",token)}adjacent(token,nexttoken);advance('(number)');break;default:error("Expected a JSON value.",nexttoken)}}var B=function(s,o,g){var a,i,k;JSHINT.errors=[];JSHINT.undefs=[];predefined=Object.create(standard);combine(predefined,g||{});if(o){a=o.predef;if(a){if(Array.isArray(a)){for(i=0;i<a.length;i+=1){predefined[a[i]]=true}}else if(typeof a==='object'){k=Object.keys(a);for(i=0;i<k.length;i+=1){predefined[k[i]]=!!a[k[i]]}}}option=o}else{option={}}option.indent=option.indent||4;option.maxerr=option.maxerr||50;tab='';for(i=0;i<option.indent;i+=1){tab+=' '}indent=1;global=Object.create(predefined);scope=global;funct={'(global)':true,'(name)':'(global)','(scope)':scope,'(breakage)':0,'(loopage)':0};functions=[funct];urls=[];stack=null;member={};membersOnly=null;implied={};inblock=false;lookahead=[];jsonmode=false;warnings=0;z.init(s);prereg=true;directive={};prevtoken=token=nexttoken=syntax['(begin)'];assume();combine(predefined,g||{});try{advance();switch(nexttoken.id){case'{':case'[':option.laxbreak=true;jsonmode=true;jsonValue();break;default:directives();if(directive["use strict"]&&!option.globalstrict){warning("Use the function form of \"use strict\".",prevtoken)}statements()}advance('(end)')}catch(e){if(e){var b=nexttoken||{};JSHINT.errors.push({raw:e.raw,reason:e.message,line:e.line||b.line,character:e.character||b.from},null)}}for(i=0;i<JSHINT.undefs.length;i+=1){k=JSHINT.undefs[i].slice(0);scope=k.shift();a=k[2];if(typeof scope[a]!=='string'&&typeof funct[a]!=='string'){warning.apply(warning,k)}}return JSHINT.errors.length===0};B.data=function(){var a={functions:[],options:option},fu,globals,implieds=[],f,i,j,members=[],n,unused=[],v;if(B.errors.length){a.errors=B.errors}if(jsonmode){a.json=true}for(n in implied){if(is_own(implied,n)){implieds.push({name:n,line:implied[n]})}}if(implieds.length>0){a.implieds=implieds}if(urls.length>0){a.urls=urls}globals=Object.keys(scope);if(globals.length>0){a.globals=globals}for(i=1;i<functions.length;i+=1){f=functions[i];fu={};for(j=0;j<functionicity.length;j+=1){fu[functionicity[j]]=[]}for(n in f){if(is_own(f,n)&&n.charAt(0)!=='('){v=f[n];if(v==='unction'){v='unused'}if(Array.isArray(fu[v])){fu[v].push(n);if(v==='unused'){unused.push({name:n,line:f['(line)'],'function':f['(name)']})}}}}for(j=0;j<functionicity.length;j+=1){if(fu[functionicity[j]].length===0){delete fu[functionicity[j]]}}fu.name=f['(name)'];fu.param=f['(params)'];fu.line=f['(line)'];fu.last=f['(last)'];a.functions.push(fu)}if(unused.length>0){a.unused=unused}members=[];for(n in member){if(typeof member[n]==='number'){a.member=member;break}}return a};B.report=function(d){var g=B.data();var a=[],c,e,err,f,i,k,l,m='',n,o=[],s;function detail(h,a){var b,i,singularity;if(a){o.push('<div><i>'+h+'</i> ');a=a.sort();for(i=0;i<a.length;i+=1){if(a[i]!==singularity){singularity=a[i];o.push((b?', ':'')+singularity);b=true}}o.push('</div>')}}if(g.errors||g.implieds||g.unused){err=true;o.push('<div id=errors><i>Error:</i>');if(g.errors){for(i=0;i<g.errors.length;i+=1){c=g.errors[i];if(c){e=c.evidence||'';o.push('<p>Problem'+(isFinite(c.line)?' at line '+c.line+' character '+c.character:'')+': '+c.reason.entityify()+'</p><p class=evidence>'+(e&&(e.length>80?e.slice(0,77)+'...':e).entityify())+'</p>')}}}if(g.implieds){s=[];for(i=0;i<g.implieds.length;i+=1){s[i]='<code>'+g.implieds[i].name+'</code>&nbsp;<i>'+g.implieds[i].line+'</i>'}o.push('<p><i>Implied global:</i> '+s.join(', ')+'</p>')}if(g.unused){s=[];for(i=0;i<g.unused.length;i+=1){s[i]='<code><u>'+g.unused[i].name+'</u></code>&nbsp;<i>'+g.unused[i].line+'</i> <code>'+g.unused[i]['function']+'</code>'}o.push('<p><i>Unused variable:</i> '+s.join(', ')+'</p>')}if(g.json){o.push('<p>JSON: bad.</p>')}o.push('</div>')}if(!d){o.push('<br><div id=functions>');if(g.urls){detail("URLs<br>",g.urls,'<br>')}if(g.json&&!err){o.push('<p>JSON: good.</p>')}else if(g.globals){o.push('<div><i>Global</i> '+g.globals.sort().join(', ')+'</div>')}else{o.push('<div><i>No new global variables introduced.</i></div>')}for(i=0;i<g.functions.length;i+=1){f=g.functions[i];o.push('<br><div class=function><i>'+f.line+'-'+f.last+'</i> '+(f.name||'')+'('+(f.param?f.param.join(', '):'')+')</div>');detail('<big><b>Unused</b></big>',f.unused);detail('Closure',f.closure);detail('Variable',f['var']);detail('Exception',f.exception);detail('Outer',f.outer);detail('Global',f.global);detail('Label',f.label)}if(g.member){a=Object.keys(g.member);if(a.length){a=a.sort();m='<br><pre id=members>/*members ';l=10;for(i=0;i<a.length;i+=1){k=a[i];n=k.name();if(l+n.length>72){o.push(m+'<br>');m='    ';l=1}l+=n.length+2;if(g.member[k]===1){n='<i>'+n+'</i>'}if(i<a.length-1){n+=', '}m+=n}o.push(m+'<br>*/</pre>')}o.push('</div>')}}return o.join('')};B.jshint=B;B.edition='2011-04-16';return B}());if(typeof exports=='object'&&exports)exports.JSHINT=JSHINT;